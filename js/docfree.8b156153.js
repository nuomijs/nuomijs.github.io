(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(625);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var l=n(630);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var a=n(642);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getDefaultProps=void 0;var r=a(n(626)),l=a(n(627));function a(e){return e&&e.__esModule?e:{default:e}}var o=r.default,u=function(){return o};t.getDefaultProps=u;var c={config:function(e){o=(0,l.default)(o,e)},getDefaultProps:u,extend:l.default};t.default=c},105:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(22),l="undefined"!=typeof window&&void 0!==window.document?window:{Proxy:e.Proxy,addEventListener:r.noop,removeEventListener:r.noop,history:{pushState:r.noop,replaceState:r.noop}};t.default=l}).call(this,n(91))},1116:function(e,t,n){"use strict";var r,l=n(1),a=(r=l)&&r.__esModule?r:{default:r};e.exports=a.default.createElement(a.default.Fragment,null,"Powered by ",a.default.createElement("a",{href:"https://github.com/yinjiazeng/docfree",target:"_blank"},"Docfree"),a.default.createElement("span",null," | "),"MIT Licensed",a.default.createElement("span",null," | "),"Copyright © 2019-present")},1117:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(78));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement(u.Home,{title:"NuomiJS",description:o.default.createElement("div",null,"React + Redux + Router",o.default.createElement("span",{style:{whiteSpace:"nowrap"}},"最佳实践")),buttons:[{type:"primary",text:"快速上手 →",to:"/guide/quick-start"},{text:"GITHUB",to:"https://github.com/nuomijs/nuomi"}],features:[{title:"易用",detail:"不依赖任何中间件，通过原生 async await 即可实现异步状态管理。"},{title:"简便",detail:"状态操作简单方便，自动 loading 处理简化流程提升开发体验。"},{title:"高效",detail:"内置路由系统功能齐全，与 redux 完美结合提升单页开发效率。"}]}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"哪些公司在用？"},"#"),o.default.createElement("span",null,"哪些公司在用？")),o.default.createElement("div",{className:"logos"},o.default.createElement("a",{href:"https://www.jss.com.cn/",target:"_blank"},o.default.createElement("img",{src:"/imgs/logos/nuonuo.png",alt:"诺诺网"})),o.default.createElement("a",{href:"http://www.wankeauto.com/",target:"_blank"},o.default.createElement("img",{src:"/imgs/logos/wanke.png",alt:"万克能源"}))))}p.isMDXComponent=!0;var m={state:{showCode:!1},setting:{depth:0,pageDepth:0,pageExtra:!1,title:"Nuomijs"},headings:[{text:"哪些公司在用？",depth:2,level:1}],showSidebar:!1,showPageSidebar:!1,sidebarMenus:[],pageSidebarMenus:[],utime:1644479868757.9507,render:function(){return o.default.createElement(p,{pageExtra:!1})},title:"Nuomijs"};t.default=m},1118:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(78));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"组件"},"#"),o.default.createElement("span",null,"组件")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Nuomi"},"#"),o.default.createElement("span",null,"Nuomi")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"id"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"store id，不设置会动态创建")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"async"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"异步加载props")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"state"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"初始状态")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"data"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"临时数据")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"store"),o.default.createElement("td",{align:null},"{ dispatch, getState }"),o.default.createElement("td",{align:null},"派发和获取当前模块状态，内部创建，不可修改，也无需传递，dispatch可以调用effects中的方法，也可以调用其他模块的effects")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reducers"),o.default.createElement("td",{align:null},"{ ","_","updateState }"),o.default.createElement("td",{align:null},"更新状态")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"effects"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"异步或者同步更新状态，异步处理使用async await，用于业务处理，支持对象和函数，函数必须返回对象，内部需dispatch调用reducers中的方法，方法名有$前缀时会被设置为loading状态，通过connect可以在loadings中获取到，不需要开发时手动控制loading状态")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"render"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"渲染组件")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onInit"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"状态被创建后回调，可以通过this.store更新状态")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Ruoter"},"#"),o.default.createElement("span",null,"Ruoter")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"hashPrefix"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"hash前缀 (",o.default.createElement("span",{style:{color:"red"}},"0.7.0-"),")")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"type"),o.default.createElement("td",{align:null},"'hash' or 'browser'"),o.default.createElement("td",{align:null},"路由类型，默认是hash (",o.default.createElement("span",{style:{color:"green"}},"0.7.0+"),")")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"basename"),o.default.createElement("td",{align:null},"'/'"),o.default.createElement("td",{align:null},"通用路径 (",o.default.createElement("span",{style:{color:"green"}},"0.7.0+"),")")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"StaticRuoter"},"#"),o.default.createElement("span",null,"StaticRuoter")),o.default.createElement("p",null,"用于服务器渲染 (",o.default.createElement("span",{style:{color:"green"}},"0.7.0+"),")"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"location"),o.default.createElement("td",{align:null},"'/'"),o.default.createElement("td",{align:null},"服务器端获取的url，可以传入对象，包含pathname、search、params")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"basename"),o.default.createElement("td",{align:null},"'/'"),o.default.createElement("td",{align:null},"通用路径")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"context"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"可以通过context.url获取Redirect组件第一次重定向的url")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"NuomiRoute"},"#"),o.default.createElement("span",null,"NuomiRoute")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"pathPrefix"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由path前缀，支持字符串和正则")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"匹配path，优先级高于pathPrefix (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"ShapeRoute"},"#"),o.default.createElement("span",null,"ShapeRoute")),o.default.createElement("p",null,"可视化设置路由 (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"routes"),o.default.createElement("td",{align:null},"array"),o.default.createElement("td",{align:null},"由Route/NuomiRoute/Redirect props组成的数组集合，子路由设置在children属性上，支持组件和数组")))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"// 子路由path不用把祖先path加上\nconst routes = [{\n  path: '/',\n  children: [{\n    path: '/home',\n    children: [{\n      path: '/list',\n    }]\n  }]\n}];\n<Router type=\"hash\">\n  <ShapeRoute routes={routes} />\n</Router>\n")),o.default.createElement("p",null,"其他参数同Nuomi组件"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Route"},"#"),o.default.createElement("span",null,"Route")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由path，支持动态参数")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"location"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"当前匹配的路由数据，内部创建，不可修改，也无需传递")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"wrapper"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"是否给留有创建一个div容器，可实现缓存功能  (",o.default.createElement("span",{style:{color:"red"}},"0.8.0-"),")")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"cache"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"是否给留有创建一个div容器，可实现缓存功能  (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"匹配路由后是否重置状态，值为null则不法刷新")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onEnter"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"路由匹配后，在reducer被创建之前回调，返回false将无法展示内容，参数为强制展示回调，调用后可以展示内容")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onChange"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"路由匹配时回调，支持函数和对象")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onLeave"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"路由离开时回调，用于决定是否可以离开")))),o.default.createElement("p",null,"其他参数同Nuomi组件，\n回调的执行顺序是 onEnter > location.data > onChange > onInit，location.data下面路由跳转时会讲到"),o.default.createElement("br",null),o.default.createElement("b",null,"注意：path和cache不能异步加载"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Redirect"},"#"),o.default.createElement("span",null,"Redirect")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"from"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"匹配当前路由path，会重定向至to设置的path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"to"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"重定向路由path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转后是否重置状态")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Link"},"#"),o.default.createElement("span",null,"Link")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"to"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"目标path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"data"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"传递的数据 (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"replace"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转是否替换当前history (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转后是否重置状态")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"NavLink"},"#"),o.default.createElement("span",null,"NavLink")),o.default.createElement("p",null,"可以匹配path的Link (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"匹配path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"activeClassName"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"匹配className")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"activeStyle"),o.default.createElement("td",{align:null},"null"),o.default.createElement("td",{align:null},"匹配样式")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"isActice"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"自定义匹配，返回boolean，第一个参数是匹配结果，第二个参数是当前location对象")))),o.default.createElement("p",null,"其他参数参考Link"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"connect"},"#"),o.default.createElement("span",null,"connect")),o.default.createElement("p",null,"用法同react-redux connect，区别是获取状态的函数，第一个参数是获取当前模块的状态，第二个参数是获取全部store里的状态"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"withNuomi"},"#"),o.default.createElement("span",null,"withNuomi")),o.default.createElement("p",null,"使用后组件中提供nuomiProps属性，nuomiProps指向Nuomi/NuomiRoute/Route组件的props"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const List = ({ nuomiProps }) => {\n  // do something\n}\n\nwithNuomi(List);\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Hooks"},"#"),o.default.createElement("span",null,"Hooks")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"useConnect"},"#"),o.default.createElement("span",null,"useConnect")),o.default.createElement("p",null,"高阶组件connect的替代方法"),o.default.createElement("p",null,"方法返回一个数组，第一个值是状态，第二个值为dispatch，不传参数默认返回当前模块所有状态，接收一个回调函数参数时，用法等同connect第一个参数"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"useNuomi"},"#"),o.default.createElement("span",null,"useNuomi")),o.default.createElement("p",null,"高阶组件withNuomi的替代方法"),o.default.createElement("p",null,"方法返回一个对象，包含nuomiProps属性"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"对象"},"#"),o.default.createElement("span",null,"对象")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router"},"#"),o.default.createElement("span",null,"router")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.location"},"#"),o.default.createElement("span",null,"router.location")),o.default.createElement("p",null,"路由跳转"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"跳转的路由地址")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"data"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"值为对象时表示跳转后传递的临时数据，切换路由后该数据将不存在，跳转后的路由模块中可以通过data获取，data对象上面Nuomi组件有提到，当值是函数时，函数的参数可以获取跳转后路由的props，可以通过store更新状态，更新状态发生在onChange之前，当值为布尔时，等同reload")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转后是否重置状态")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"force"),o.default.createElement("td",{align:null},"true"),o.default.createElement("td",{align:null},"当path是当前路由path时，是否强制跳转，reload为true时该值自动为true")))),o.default.createElement("p",null,"不传参数表示获取当前路由数据"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"router.location() // 获取当前路由数据\nrouter.location(path, true) // 跳转后刷新\nrouter.location(path, {}, true) // 跳转后传递临时参数并刷新\nrouter.location(path, ({ store }) => { // 跳转后更新状态\n    store.dispatch({\n        type,\n        payload\n    });\n}))\n// path支持对象，字段等同router.location()获取的对象字段\nrouter.location({ pathname: '/path', query: { a: 1 } }) // /path?a=1\n")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.replace"},"#"),o.default.createElement("span",null,"router.replace")),o.default.createElement("p",null,"路由跳转，在history中替换当前地址，参数等同location (",o.default.createElement("span",{style:{color:"green"}},"0.7.0+"),")"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.listener"},"#"),o.default.createElement("span",null,"router.listener")),o.default.createElement("p",null,"监听路由变化"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"callback"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"接受参数为location，可以获取当前匹配的路由数据")))),o.default.createElement("p",null,"返回取消监听方法"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.reload"},"#"),o.default.createElement("span",null,"router.reload")),o.default.createElement("p",null,"路由刷新，等同router.location(当前path, true)"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.back"},"#"),o.default.createElement("span",null,"router.back")),o.default.createElement("p",null,"后退"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.forward"},"#"),o.default.createElement("span",null,"router.forward")),o.default.createElement("p",null,"前进"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.matchPath"},"#"),o.default.createElement("span",null,"router.matchPath")),o.default.createElement("p",null,"用于匹配路由"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"location"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"路由location对象")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由设置的path")))),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.mergePath"},"#"),o.default.createElement("span",null,"router.mergePath")),o.default.createElement("p",null,"合并path (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path1, path2, ..."),o.default.createElement("td",{align:null},"string"),o.default.createElement("td",{align:null},"路由path")))),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.block"},"#"),o.default.createElement("span",null,"router.block")),o.default.createElement("p",null,"定义阻塞路由，接收一个回调函数作为参数，回调函数包含下面参数，返回false则不能跳转 (",o.default.createElement("span",{style:{color:"green"}},"0.8.0+"),")"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"from"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"当前location")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"to"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"目标location")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"enter"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"确认跳转函数，在异步中使用")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"nuomi"},"#"),o.default.createElement("span",null,"nuomi")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"nuomi.getDefaultProps"},"#"),o.default.createElement("span",null,"nuomi.getDefaultProps")),o.default.createElement("p",null,"获取最新的默认props"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"// 默认props\n{\n  state: {\n    loadings: {},\n  },\n  data: {},\n  reducers: {\n    _replaceState: (state, { payload }) => payload,\n    _updateState: (state, { payload }) => ({ ...state, ...payload }),\n    _updateLoading: (state, { payload }) => ({\n      ...state,\n      loadings: { ...state.loadings, ...payload },\n    }),\n  },\n}\n")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"nuomi.config"},"#"),o.default.createElement("span",null,"nuomi.config")),o.default.createElement("p",null,"设置默认props，设置后会覆盖默认值"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"nuomi.config({\n    state: {\n        dataSource: [],\n    },\n    reducers: {\n        updateState: (state, { payload }) => ({ ...state, ...payload }),\n    },\n});\n")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"nuomi.extend"},"#"),o.default.createElement("span",null,"nuomi.extend")),o.default.createElement("p",null,"合并props，state、reducers、data等会被浅合并"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store"},"#"),o.default.createElement("span",null,"store")),o.default.createElement("p",null,"请参考 ",o.default.createElement("a",{href:"https://cn.redux.js.org/docs/basics/Store.html",target:"_blank"},"redux store"),"\n原生方法建议只使用getState和dispatch，除此之外额外新增了getStore和applyMiddleware方法"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.getState"},"#"),o.default.createElement("span",null,"store.getState")),o.default.createElement("p",null,"获取所有状态"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.dispatch"},"#"),o.default.createElement("span",null,"store.dispatch")),o.default.createElement("p",null,"更新状态，只能触发reducers中的方法，如果想调用effects方法，请使用store.getStore替代"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.getStore"},"#"),o.default.createElement("span",null,"store.getStore")),o.default.createElement("p",null,"获取nuomi组件的store，参数是store id，返回对象包含getState和dispatch"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.applyMiddleware"},"#"),o.default.createElement("span",null,"store.applyMiddleware")),o.default.createElement("p",null,"添加中间件"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"store.applyMiddleware(thunk, logger, ...)\n")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.createState"},"#"),o.default.createElement("span",null,"store.createState")),o.default.createElement("p",null,"初始化状态，只能对 ",o.default.createElement("code",{className:"inline"},"nuomiPorps")," 中设置了 ",o.default.createElement("code",{className:"inline"},"id")," 属性的模块初始化 (",o.default.createElement("span",{style:{color:"green"}},"0.7.0+"),")"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"属性"},"#"),o.default.createElement("span",null,"属性")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"INITIALISE_STATE"},"#"),o.default.createElement("span",null,"INITIALISE_STATE")),o.default.createElement("p",null,"服务端渲染时用于给window对象添加初始化状态属性 (",o.default.createElement("span",{style:{color:"green"}},"0.7.0+"),")"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { createServer } from 'http';\nimport { renderToString } from 'react-dom/server';\nimport { INITIALISE_STATE } from 'nuomi';\n\ncreateServer((req, res) => {\n  const html = renderToString(<App />);\n  const state = { global: {} };\n\n  res.setHeader('Content-Type','text/html');\n  res.end(`\n    <html>\n      <body>\n        <div id=\"root\">${html}</div>\n        <script>window.${INITIALISE_STATE}=${JSON.stringify(state)}<\/script>\n      </body>\n    </html>\n  `);\n});\n")))}p.isMDXComponent=!0;var m={state:{showCode:!1},setting:{title:"API"},headings:[{text:"组件",depth:2,level:1},{text:"Nuomi",depth:3,level:2},{text:"Ruoter",depth:3,level:2},{text:"StaticRuoter",depth:3,level:2},{text:"NuomiRoute",depth:3,level:2},{text:"ShapeRoute",depth:3,level:2},{text:"Route",depth:3,level:2},{text:"Redirect",depth:3,level:2},{text:"Link",depth:3,level:2},{text:"NavLink",depth:3,level:2},{text:"connect",depth:3,level:2},{text:"withNuomi",depth:3,level:2},{text:"Hooks",depth:2,level:1},{text:"useConnect",depth:3,level:2},{text:"useNuomi",depth:3,level:2},{text:"对象",depth:2,level:1},{text:"router",depth:3,level:2},{text:"router.location",depth:4,level:3},{text:"router.replace",depth:4,level:3},{text:"router.listener",depth:4,level:3},{text:"router.reload",depth:4,level:3},{text:"router.back",depth:4,level:3},{text:"router.forward",depth:4,level:3},{text:"router.matchPath",depth:4,level:3},{text:"router.mergePath",depth:4,level:3},{text:"router.block",depth:4,level:3},{text:"nuomi",depth:3,level:2},{text:"nuomi.getDefaultProps",depth:4,level:3},{text:"nuomi.config",depth:4,level:3},{text:"nuomi.extend",depth:4,level:3},{text:"store",depth:3,level:2},{text:"store.getState",depth:4,level:3},{text:"store.dispatch",depth:4,level:3},{text:"store.getStore",depth:4,level:3},{text:"store.applyMiddleware",depth:4,level:3},{text:"store.createState",depth:4,level:3},{text:"属性",depth:2,level:1},{text:"INITIALISE_STATE",depth:3,level:2}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"组件",depth:2,level:1},{text:"Nuomi",depth:3,level:2},{text:"Ruoter",depth:3,level:2},{text:"StaticRuoter",depth:3,level:2},{text:"NuomiRoute",depth:3,level:2},{text:"ShapeRoute",depth:3,level:2},{text:"Route",depth:3,level:2},{text:"Redirect",depth:3,level:2},{text:"Link",depth:3,level:2},{text:"NavLink",depth:3,level:2},{text:"connect",depth:3,level:2},{text:"withNuomi",depth:3,level:2},{text:"Hooks",depth:2,level:1},{text:"useConnect",depth:3,level:2},{text:"useNuomi",depth:3,level:2},{text:"对象",depth:2,level:1},{text:"router",depth:3,level:2},{text:"nuomi",depth:3,level:2},{text:"store",depth:3,level:2},{text:"属性",depth:2,level:1},{text:"INITIALISE_STATE",depth:3,level:2}],pageSidebarMenus:[{level:1,text:"router.location"},{level:1,text:"router.replace"},{level:1,text:"router.listener"},{level:1,text:"router.reload"},{level:1,text:"router.back"},{level:1,text:"router.forward"},{level:1,text:"router.matchPath"},{level:1,text:"router.mergePath"},{level:1,text:"router.block"},{level:1,text:"nuomi.getDefaultProps"},{level:1,text:"nuomi.config"},{level:1,text:"nuomi.extend"},{level:1,text:"store.getState"},{level:1,text:"store.dispatch"},{level:1,text:"store.getStore"},{level:1,text:"store.applyMiddleware"},{level:1,text:"store.createState"}],utime:1587106898836.9592,render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})},title:"API"};t.default=m},1119:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(78));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("p",null,"  ",o.default.createElement("code",{className:"inline"},"nuomi")," 是基于 ",o.default.createElement("a",{href:"https://reactjs.org/",target:"_blank"},"react")," 和 ",o.default.createElement("a",{href:"https://redux.js.org/",target:"_blank"},"redux")," 开发的一套数据流解决方案，\n也可以看成轻量级业务框架，它可以规范和简化使用",o.default.createElement("code",{className:"inline"},"redux")," 进行状态管理的开发流程，与 ",o.default.createElement("code",{className:"inline"},"路由")," 完美结合可以更高效开发单页应用。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"特性"},"#"),o.default.createElement("span",null,"特性")),o.default.createElement("ul",null,o.default.createElement("li",null,"不依赖任何中间件，通过原生 ",o.default.createElement("code",{className:"inline"},"async await")," 即可实现异步状态管理。"),o.default.createElement("li",null,"状态操作简单高效，自动 ",o.default.createElement("code",{className:"inline"},"loading")," 处理简化流程提升开发体验。"),o.default.createElement("li",null,"内置 ",o.default.createElement("code",{className:"inline"},"路由")," 系统功能齐全，与 ",o.default.createElement("code",{className:"inline"},"redux")," 完美结合提升单页开发效率。")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"兼容性"},"#"),o.default.createElement("span",null,"兼容性")),o.default.createElement("p",null,"支持所有的现代浏览器和 IE9+，React 16.8+。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"它能做什么？"},"#"),o.default.createElement("span",null,"它能做什么？")),o.default.createElement("p",null,"理论上可以开发任何类型的单页应用，支持服务端渲染，支持react-native。"))}p.isMDXComponent=!0;var m={state:{showCode:!1},setting:{title:"介绍"},headings:[{text:"特性",depth:2,level:1},{text:"兼容性",depth:2,level:1},{text:"它能做什么？",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"特性",depth:2,level:1},{text:"兼容性",depth:2,level:1},{text:"它能做什么？",depth:2,level:1}],pageSidebarMenus:[],utime:1587105999133.3252,render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})},title:"介绍"};t.default=m},1120:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(78));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"官方"},"#"),o.default.createElement("span",null,"官方")),o.default.createElement("a",{href:"https://github.com/nuomijs/nuomi-admin",target:"_blank"},"nuomi-admin"))}p.isMDXComponent=!0;var m={state:{showCode:!1},setting:{title:"例子"},headings:[{text:"官方",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"官方",depth:2,level:1}],pageSidebarMenus:[],utime:1587106062423.0205,render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})},title:"例子"};t.default=m},1121:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(78));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"状态隔离"},"#"),o.default.createElement("span",null,"状态隔离")),o.default.createElement("p",null,"框架为每个 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 模块内部创建一个 ",o.default.createElement("code",{className:"inline"},"store")," 对象，包含了 ",o.default.createElement("code",{className:"inline"},"getState")," 和 ",o.default.createElement("code",{className:"inline"},"dispatch"),"\n方法用于操作模块内的状态，可以在 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 对象的方法内调用 ",o.default.createElement("code",{className:"inline"},"this.store")," 去访问它们。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  onInit() {\n    this.store.dispatch(...);\n  }\n}\n")),o.default.createElement("p",null,"使用过 ",o.default.createElement("code",{className:"inline"},"redux")," 的同学应该知道，可以通过 ",o.default.createElement("code",{className:"inline"},"combineReducers"),"\n组合多个 ",o.default.createElement("code",{className:"inline"},"reducer"),"，然后给他们设置唯一的 ",o.default.createElement("code",{className:"inline"},"key"),"，访问状态时都需要依赖这个 ",o.default.createElement("code",{className:"inline"},"key"),"。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const home = () => {...};\nconst list = () => {...};\n...\n\ncreateStore(combineReducers({ home, list, ... }););\n...\n\nconst App = ({ home, list }) => {\n  // do something\n};\n\nconnect(state => state)(App);\n")),o.default.createElement("p",null,"可以在 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 中通过 ",o.default.createElement("code",{className:"inline"},"id")," 属性为 ",o.default.createElement("code",{className:"inline"},"store")," 设置唯一标识，",o.default.createElement("code",{className:"inline"},"id")," 其实就是这个 ",o.default.createElement("code",{className:"inline"},"key"),"\n，只不过在不声明的情况下会动态创建。如果模块之间是没有任何联系，没必要给他们设置标识，因为操作状态不需要依赖\n",o.default.createElement("code",{className:"inline"},"id")," 。当需要与其他模块通信时，为了方便，那就需要为其设置 ",o.default.createElement("code",{className:"inline"},"id")," 了。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  id: 'global'\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"状态操作"},"#"),o.default.createElement("span",null,"状态操作")),o.default.createElement("p",null,"在组件中可以通过 ",o.default.createElement("code",{className:"inline"},"useConnect")," 或者 ",o.default.createElement("code",{className:"inline"},"connect")," 高阶组件让组件与 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 建立关联来获取状态，通过\n",o.default.createElement("code",{className:"inline"},"dispatch")," 可以调用 ",o.default.createElement("code",{className:"inline"},"effects")," 和 ",o.default.createElement("code",{className:"inline"},"reducers")," 中的方法更新状态。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  state: {\n    state1,\n    state2,\n    ...\n  }\n}\n")),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"useConnect"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { useConnect } from 'nuomi';\n\nconst List = () => {\n  const [{ state1, state2 }, dispatch] = useConnect();\n  dispatch({\n    type: 'save',\n    payload: { ... },\n  });\n}\n")),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"connect"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { connect } from 'nuomi';\n\nconst List = ({ state1, state2, dispatch }) => {\n  dispatch({\n    type: 'delete',\n    payload: { ... },\n  });\n}\n\nexport default connect(state => state)(List);\n")),o.default.createElement("p",null,"可以通过全局 ",o.default.createElement("code",{className:"inline"},"store")," 操作所有模块状态，该对象就是通过 ",o.default.createElement("code",{className:"inline"},"redux")," 中的 ",o.default.createElement("code",{className:"inline"},"createStore"),"\n创建的，只能调用 ",o.default.createElement("code",{className:"inline"},"reducers"),"，无法操作 ",o.default.createElement("code",{className:"inline"},"effects")," ，使用时需要与 ",o.default.createElement("code",{className:"inline"},"id")," 组合。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { store } from 'nuomi';\n\nstore.getState();\n\nstore.dispatch({\n  type: 'global/_updateState',\n  payload,\n});\n\n...\n")),o.default.createElement("p",null,"大多数情况下不会使用全局 ",o.default.createElement("code",{className:"inline"},"store")," 去操作状态。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"异步操作"},"#"),o.default.createElement("span",null,"异步操作")),o.default.createElement("p",null,"异步操作是指异步更新状态，定义在 ",o.default.createElement("code",{className:"inline"},"effects")," 对象中，主要用于业务逻辑的处理，使用\n",o.default.createElement("code",{className:"inline"},"async await")," 语法糖。组件中调用 ",o.default.createElement("code",{className:"inline"},"dispatch")," 访问 ",o.default.createElement("code",{className:"inline"},"effects")," 中定义的方法，异步结束后再调用\n",o.default.createElement("code",{className:"inline"},"reducers")," 中定义的方法来更新状态，推荐使用 ",o.default.createElement("a",{href:"https://github.com/nuomijs/nuomi-request/wiki",target:"_blank"},"nuomi-request")," 来进行请求操作。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  async login() {\n    const { username, password } = this.getState();\n    await services.login({ username, password });\n  },\n  async getData({ id }) {\n    const { data } =  await services.getData({ id });\n    this.dispatch({\n      type: '_updateState',\n      payload: { data }\n    });\n  }\n}\n")),o.default.createElement("p",null,"上面代码中 ",o.default.createElement("code",{className:"inline"},"getState")," 和 ",o.default.createElement("code",{className:"inline"},"dispatch")," 为内置方法，",o.default.createElement("code",{className:"inline"},"getState")," 可以获取当前模块最新状态，\n",o.default.createElement("code",{className:"inline"},"dispatch")," 用于调用 ",o.default.createElement("code",{className:"inline"},"reducers")," 中的方法更新状态，除此之外还可以通过 ",o.default.createElement("code",{className:"inline"},"this.getNuomiProps()"),"\n来访问当前模块的 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 对象。"),o.default.createElement("p",null,"异步方法也可以与其他方法组合使用，通过 ",o.default.createElement("code",{className:"inline"},"this")," 访问。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  async getData1 () {\n    await services.getData1();\n  },\n  async getData2 () {\n    return await services.getData2();\n  },\n  async getData() {\n    await this.getData1();\n    const data = await this.getData2();\n  }\n}\n")),o.default.createElement("blockquote",null,o.default.createElement("p",null,"不可以使用箭头函数定义，不然 this 访问不到其他方法！")),o.default.createElement("p",null,"方法可以不是异步的，可以把公共逻辑抽离出来。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  updateState(payload) {\n    this.dispatch({\n      type: '_updateState',\n      payload,\n    });\n  },\n  async getData1() {\n    const { data } = await services.getData1();\n    this.updateState(data);\n  },\n  async getData2() {\n    const { data } = await services.getData2();\n    this.updateState(data);\n  }\n}\n")),o.default.createElement("p",null,"给方法名添加 ",o.default.createElement("code",{className:"inline"},"$")," 前缀可以自动创建 ",o.default.createElement("code",{className:"inline"},"loading")," ，无需手动开关，在组件中通过 ",o.default.createElement("code",{className:"inline"},"loadings.$方法名")," 获取状态。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  async $login() {\n    await services.login();\n  }\n}\n")),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const Login = () => {\n  const [{ loadings }] = useConnect();\n  return (\n    <Form>\n      ...\n      <Button>{loadings.$login ? '正在登录...' : '登录'}</Button>\n    </Form>\n  );\n};\n")),o.default.createElement("p",null,"首次获取的 loading 状态是 undefined，可以在状态中定义默认值。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  state: {\n    loadings: {\n      $login: false\n    }\n  }\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"跨模块通信"},"#"),o.default.createElement("span",null,"跨模块通信")),o.default.createElement("p",null,"应用中经常会出现多个模块通信问题，这时就需要给通信模块的 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 设置 ",o.default.createElement("code",{className:"inline"},"id")," 属性，",o.default.createElement("code",{className:"inline"},"dispatch")," 时通过 ",o.default.createElement("code",{className:"inline"},"id"),"\n与 ",o.default.createElement("code",{className:"inline"},"reducers")," 和 ",o.default.createElement("code",{className:"inline"},"effects")," 进行组合，就可以访问它们。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"// A nuomiProps\n{\n  id: 'global',\n  effects: {\n    async update() {\n      // do something\n    }\n  }\n}\n\n// B nuomiProps\n{\n  effects() {\n    async remove() {\n      this.dispatch({\n        type: 'global/update',\n        payload: {...}\n      });\n    }\n  }\n}\n\n// B 组件\n\nconst B = () => {\n  const [, dispatch] = useConnect();\n  const update = () => {\n    dispatch({ type: 'global/update', ... });\n  };\n  return <Button onClick={update}>更新</Button>;\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由匹配"},"#"),o.default.createElement("span",null,"路由匹配")),o.default.createElement("p",null,"路由通过 ",o.default.createElement("code",{className:"inline"},"path")," 属性值与 ",o.default.createElement("code",{className:"inline"},"url")," 地址进行匹配来渲染组件，需要按照一定的规范才可以有效匹配。"),o.default.createElement("p",null,"值非必须，当不传值时，默认匹配 ",o.default.createElement("code",{className:"inline"},"/"),"，开头和末尾有无 ",o.default.createElement("code",{className:"inline"},"/")," 都是一样的。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: api | /api | api/ | /api/\n\n/api         √\n/ap          ×\n/api/1       ×\n")),o.default.createElement("p",null,"动态参数以 ",o.default.createElement("code",{className:"inline"},"/:")," 开头，后面跟上参数名，参数名只能由 ",o.default.createElement("code",{className:"inline"},"数字字母下划线")," 构成。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api/:id\n\n/api         ×\n/api/1       √\n")),o.default.createElement("p",null,"可以通过 ",o.default.createElement("code",{className:"inline"},"?")," 匹配0次或者1次，跟在动态参数末尾会对整个参数进行匹配。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api/:id?\n\n/api         √\n/api/1       √\n\npath: /api？\n\n/ap          √\n/api         √\n/api/1       ×\n")),o.default.createElement("p",null,"可以通过 ",o.default.createElement("code",{className:"inline"},"*")," 进行模糊匹配。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api*\n\n/api         √\n/api/1       √\n/apixx       √\n/apixx/1     √\n/apt         ×\n\npath: /api/*\n\n/api         √\n/api/1       √\n/apixx       ×\n\npath: *\n\n匹配所有\n")),o.default.createElement("p",null,"可以使用正则符号匹配。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api/1[^\\\\d]+\n\n/api/11       ×\n/api/1        ×\n/api/1b       √\n")),o.default.createElement("p",null,"匹配成功的路由 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 会被添加 ",o.default.createElement("code",{className:"inline"},"location")," 对象，包含了路由相关的数据。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  url,        // 完整url\n  pathname,   // 不包含查询参数以及hash的url\n  search,     // 查询参数字符串\n  query,      // 查询参数对象\n  params,     // 动态参数对象\n  hash        // hash\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由操作"},"#"),o.default.createElement("span",null,"路由操作")),o.default.createElement("p",null,"使用 ",o.default.createElement("code",{className:"inline"},"router")," 对象可以进行路由相关的操作，比如刷新、跳转、监听等。"),o.default.createElement("p",null,"路由刷新可以将当前路由所有状态进行重置，并且重新初始化，通过调用 ",o.default.createElement("code",{className:"inline"},"router.reload()")," 使用，你可以把它看成路由版的\n",o.default.createElement("code",{className:"inline"},"window.reload"),"，只不过浏览器不会刷新。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { router } from 'nuomi';\n\nconst App = () => {\n  return (\n    ...\n    <Button onClick={() => router.reload()}>刷新</Button>\n  );\n};\n")),o.default.createElement("p",null,"通过使用 ",o.default.createElement("code",{className:"inline"},"window.location")," 和 ",o.default.createElement("code",{className:"inline"},"location.replace"),"，可以控制浏览器的跳转，路由提供与之对等的方法\n",o.default.createElement("code",{className:"inline"},"router.location")," 与 ",o.default.createElement("code",{className:"inline"},"router.replace"),"，它们参数相同，只不过前者会记入历史，后者替换历史。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { router } from 'nuomi';\n\n{\n  effects: {\n    $login() {\n      await services.login();\n      router.replace('/index');\n    }\n  }\n}\n")),o.default.createElement("p",null,"虽然也可以使用 ",o.default.createElement("code",{className:"inline"},"location.hash")," 或 ",o.default.createElement("code",{className:"inline"},"history.push"),"\n等原生方法控制路由跳转，但是不建议使用他们，不仅功能有限，可能还会出现一些问题，建议使用\n",o.default.createElement("code",{className:"inline"},"router")," 对象操作。"),o.default.createElement("p",null,"通过跳转，还可以为目标页面传递一些临时数据。试想一下有这么一个场景，只有从A页面点击特定的按钮到B页面时，B才会进行某些操作\n，当B刷新或者从A、C正常跳转到B时，B才正常显示。当然方法有很多，比如在url上添加参数，或者使用全局变量做标记，使用完后再移除\n，但是都需要做额外的处理。"),o.default.createElement("p",null,o.default.createElement("code",{className:"inline"},"router")," 跳转时可以传递临时数据，使用完数据会自动销毁。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const A = () => {\n  const go = () => {\n    router.location('/b', { a: 1, b: 2 });\n  };\n  return <Button onClick={go}></Button>\n}\n\n// B nuomiProps\n{\n  effects: {\n    async getData() {\n      const { data } = this.getNuomiProps();\n      console.log(data); // { a: 1, b: 2 }\n    }\n  },\n  onInit() {\n    console.log(this.data); // { a: 1, b: 2 }\n  }\n}\n")),o.default.createElement("p",null,"目标页面 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 的 ",o.default.createElement("code",{className:"inline"},"data")," 属性用于存放临时数据，当路由切换时会自动被销毁，也可以为 ",o.default.createElement("code",{className:"inline"},"data")," 定义默认值。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  data: {\n    a: 0,\n    b: 0\n  },\n  onInit() {\n    console.log(this.data); // { a: 0, b: 0 }\n  }\n}\n")),o.default.createElement("p",null,"跳转时还可以通过传递函数来对目标页面做一些处理，函数接收目标页面的 ",o.default.createElement("code",{className:"inline"},"nuomiProps"),"\n作为参数，可以获取 ",o.default.createElement("code",{className:"inline"},"store")," 来操作目标页的状态。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const A = () => {\n  const go = () => {\n    router.location('/b', ({ store }) => {\n      store.dispatch({ type: 'getData', payload: {...} });\n    });\n  };\n  return <Button onClick={go}></Button>\n}\n\n// B nuomiProps\n{\n  effects: {\n    async getData() {\n      // do something\n    }\n  }\n}\n")),o.default.createElement("p",null,"路由中还提供了很多方法，具体可以查阅 ",o.default.createElement("a",{href:"/api/#router",target:"_blank"},"API"),"。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由缓存"},"#"),o.default.createElement("span",null,"路由缓存")),o.default.createElement("p",null,"默认情况下在路由跳转时，上一个路由的内容和状态会被销毁，使用路由缓存可以保留状态或者内容。通过给\n",o.default.createElement("code",{className:"inline"},"nuomiProps")," 增加 ",o.default.createElement("code",{className:"inline"},"cache")," 属性开启缓存功能。"),o.default.createElement("p",null,"当值设置为 ",o.default.createElement("code",{className:"inline"},"true")," 时，渲染内容外部会被包裹一层类名为 ",o.default.createElement("code",{className:"inline"},"nuomi-route-wrapper"),"\n的 ",o.default.createElement("code",{className:"inline"},"div")," 标签，离开此页面时该标签会被设置为 ",o.default.createElement("code",{className:"inline"},"display: none"),"，内容和状态都不会被销毁，返回时会被设置为\n",o.default.createElement("code",{className:"inline"},"display: block"),"，通过此功能很容易解决回到原页面保留滚动条位置的问题。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'<Route path="/list" cache />\n')),o.default.createElement("div",null,o.default.createElement("img",{src:"/imgs/cache.gif",alt:"路由缓存"})),o.default.createElement("p",null,"当值设置为 ",o.default.createElement("code",{className:"inline"},"state")," 时，离开页面会保留状态，但内容会被销毁，重新进入页面会展示之前状态的内容，但滚动条位置会丢失。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'<Route path="/list" cache="state" />\n')),o.default.createElement("p",null,"两者有利有弊，前者当页面数量特别庞大时，可能会有内存问题，使用时根据实际情况自己权衡。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由嵌套"},"#"),o.default.createElement("span",null,"路由嵌套")),o.default.createElement("p",null,"可以使用 ",o.default.createElement("code",{className:"inline"},"Route")," 与 ",o.default.createElement("code",{className:"inline"},"NuomiRoute")," 实现路由嵌套的功能，外层路由使用哪个都可以，后者功能会少一点。\n路由嵌套最常见的应用场景就是工作台页面，外层路由渲染框架，子路由渲染内容，有2种方式可以实现路由嵌套。"),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"集中式"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'// 外层路由渲染组件\nconst Layout = ({ children }) => {\n  return (\n    <Wrapper>\n      <Header />\n      <Content>{children}</Content>\n    </Wrapper>\n  );\n}\n\n// 外层路由nuomiProps\nconst layout = {\n  ...,\n  render() {\n    return <Layout>{this.children}</Layout>\n  },\n}\n\nconst App = () => {\n  return (\n    <Router>\n      <NuomiRoute path="/*" {...layout}>\n        <Route path="/" {...home} />\n        <Route path="/list" {...list} />\n      </NuomiRoute>\n    </Router>\n  );\n}\n')),o.default.createElement("p",null,"外层路由在 ",o.default.createElement("code",{className:"inline"},"render")," 方法中 通过 ",o.default.createElement("code",{className:"inline"},"this.children")," 获取子路由，然后在组件内进行渲染，如果不处理这一步，\n那么子路由不会被渲染。框架提供了 ",o.default.createElement("code",{className:"inline"},"ShapeRoute")," 组件处理这种方式更加方便。"),o.default.createElement("blockquote",null,o.default.createElement("p",null,"children 与 render 共存时，只渲染 render 中的组件。",o.default.createElement("br",null),"外层路由 ",o.default.createElement("code",{className:"inline"},"path")," 末尾必须以 ",o.default.createElement("code",{className:"inline"},"/*")," 结尾，不然子路由不会被匹配，具体可以参考",o.default.createElement("a",{href:"#路由匹配",target:"_blank"},"路由匹配"),"。")),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"分散式"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'const Layout = () => {\n  return (\n    <Wrapper>\n      <Header />\n      <Content>\n        <Route path="/" {...home} />\n        <Route path="/list" {...list} />\n      </Content>\n    </Wrapper>\n  );\n}\n\nconst layout = {\n  ...,\n  render() {\n    return <Layout />\n  },\n}\n\nconst App = () => {\n  return (\n    <Router>\n      <Route path="/*" {...layout} />\n    </Router>\n  );\n}\n')),o.default.createElement("p",null,"可以根据自己的喜好选择任意方式构面单页。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由钩子"},"#"),o.default.createElement("span",null,"路由钩子")),o.default.createElement("p",null,"路由提供了一些钩子函数可以在路由变化时做一些操作。"),o.default.createElement("p",null,"有一些场景需要在路由进入或者离开时做一些提示，可以通过 ",o.default.createElement("code",{className:"inline"},"onEnter")," 和 ",o.default.createElement("code",{className:"inline"},"onLeave")," 来实现。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  onEnter() {\n    return window.confirm('是否要进入?');\n  },\n  onLeave() {\n    return window.confirm('是否要离开?');\n  }\n}\n")),o.default.createElement("p",null,"也可以通过自定义弹窗来实现阻塞。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  onEnter(enter) {\n    Modal.confirm({\n      content: '是否要进入?',\n      onOk: () => {\n        enter();\n      },\n    });\n    return false;\n  },\n  onLeave(leave) {\n    Modal.confirm({\n      content: '是否要离开?',\n      onOk: () => {\n        leave();\n      },\n    });\n    return false;\n  }\n}\n")),o.default.createElement("p",null,"通常路由被渲染后，需要调用接口对数据进行初始化，这个操作可以在组件生命周期函数内进行，比如 ",o.default.createElement("code",{className:"inline"},"useEffect"),"\n",o.default.createElement("code",{className:"inline"},"componentDidMount"),"等，但是在框架中使用这种方式会有一些问题，比如调用路由刷新 不会重新执行这些函数，所以路由提供了\n",o.default.createElement("code",{className:"inline"},"onInit")," 进行初始化操作，它不是路由独有的，",o.default.createElement("code",{className:"inline"},"Nuomi")," 和 ",o.default.createElement("code",{className:"inline"},"NuomiRoute")," 组件都有这个钩子，功能相同。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  effects: {\n    async $getList() {\n      // do something\n    }\n  },\n  onInit() {\n    this.store.dispatch({\n      type: '$getList'\n    });\n  }\n}\n")),o.default.createElement("p",null,"在 ",o.default.createElement("code",{className:"inline"},"onInit")," 中还可以做一些监听操作，并返回一个函数用于取消监听，用法类似 ",o.default.createElement("code",{className:"inline"},"useEffect"),"。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  onInit() {\n    const resize = () => {};\n    window.addEventListener('resize', resize);\n    return () => {\n      window.removeEventListener('resize', resize);\n    }\n  }\n}\n")),o.default.createElement("p",null,"如果设置了路由缓存，",o.default.createElement("code",{className:"inline"},"onInit")," 在组件生命周期内只会被执行一次，除非调用路由刷新\n，如果希望每次路由切换都执行，可以使用 ",o.default.createElement("code",{className:"inline"},"onChange")," 钩子。"),o.default.createElement("blockquote",null,o.default.createElement("p",null,"路由没有设置缓存功能，",o.default.createElement("code",{className:"inline"},"onInit")," 每次路由切换都会执行。")),o.default.createElement("p",null,o.default.createElement("code",{className:"inline"},"onChange")," 支持函数和对象写法，如果设置了路由缓存，在对象写法时给方法名添加 ",o.default.createElement("code",{className:"inline"},"$"),"\n前缀，首次加载和路由刷新时都不会执行，只有路由切换时才会执行。如果业务场景是首次进来需要初始化数据\n，离开后再进入这个页面只需要更新某一部分数据，那么这个功能十分有用。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  cache: true,\n  onChange: {\n    initData() {\n      this.store.dispatch({ ... });\n    },\n    $initList() {\n      this.store.dispatch({ ... });\n    }\n  }\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"按需加载"},"#"),o.default.createElement("span",null,"按需加载")),o.default.createElement("p",null,"单页应用是将所有模块打包到一个文件里，模块越多则文件越大，首次加载的速度也会越慢，有些模块可能永远不会被用户访问。\n",o.default.createElement("code",{className:"inline"},"nuomiProps")," 中可以使用 ",o.default.createElement("code",{className:"inline"},"async")," 方法来对模块进行按需加载。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"// home.js\nexport default {\n  state: {...},\n  effects: {...},\n  ...\n}\n\n// App.jsx\nconst App = () => {\n  return (\n    <Router>\n      <Route path=\"/\" async={() => import('./home')} />\n      <Route path=\"/list\" async={() => import('./list')} />\n    </Router>\n  );\n};\n")))}p.isMDXComponent=!0;var m={state:{showCode:!1},setting:{title:"功能速查"},headings:[{text:"状态隔离",depth:2,level:1},{text:"状态操作",depth:2,level:1},{text:"异步操作",depth:2,level:1},{text:"跨模块通信",depth:2,level:1},{text:"路由匹配",depth:2,level:1},{text:"路由操作",depth:2,level:1},{text:"路由缓存",depth:2,level:1},{text:"路由嵌套",depth:2,level:1},{text:"路由钩子",depth:2,level:1},{text:"按需加载",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"状态隔离",depth:2,level:1},{text:"状态操作",depth:2,level:1},{text:"异步操作",depth:2,level:1},{text:"跨模块通信",depth:2,level:1},{text:"路由匹配",depth:2,level:1},{text:"路由操作",depth:2,level:1},{text:"路由缓存",depth:2,level:1},{text:"路由嵌套",depth:2,level:1},{text:"路由钩子",depth:2,level:1},{text:"按需加载",depth:2,level:1}],pageSidebarMenus:[],utime:1587113535477.0825,render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})},title:"功能速查"};t.default=m},1122:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l=c(n(1)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(78)),o=c(n(1123));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=a.Content;function p(e){var t=e.components,n=f(e,["components"]);return l.default.createElement(d,i({},s,n,{components:t}),l.default.createElement("p",null,"  在此之前你需要安装 ",l.default.createElement("a",{href:"https://nodejs.org",target:"_blank"},"nodejs")," ，包管理工具使用的是 ",l.default.createElement("a",{href:"https://www.yarnpkg.com/lang/en/",target:"_blank"},"yarn")," ，你也可以使用 ",l.default.createElement("a",{href:"https://www.npmjs.com/",target:"_blank"},"npm")," 来安装包。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"安装脚手架"},"#"),l.default.createElement("span",null,"安装脚手架")),l.default.createElement("p",null,"初始化项目用的是 ",l.default.createElement("a",{href:"https://create-react-app.dev/",target:"_blank"},"create-react-app"),"，你也可以使用自己喜欢的脚手架。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn global add create-react-app\n")),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"创建应用"},"#"),l.default.createElement("span",null,"创建应用")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"create-react-app new-project\ncd new-project\nyarn eject\n")),l.default.createElement("p",null,"通过 ",l.default.createElement("code",{className:"inline"},"eject")," 释放配置文件方便修改。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"安装依赖包"},"#"),l.default.createElement("span",null,"安装依赖包")),l.default.createElement("p",null,"安装框架 ",l.default.createElement("code",{className:"inline"},"nuomi")," 和组件库 ",l.default.createElement("a",{href:"https://ant.design/index-cn",target:"_blank"},"antd"),"。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn add nuomi antd\n")),l.default.createElement("p",null,"安装 ",l.default.createElement("code",{className:"inline"},"babel-plugin-import")," 插件用来按需加载 ",l.default.createElement("code",{className:"inline"},"antd")," 的脚本和样式，具体详见",l.default.createElement("a",{href:"https://ant.design/docs/react/introduce-cn#示例",target:"_blank"},"官网"),"。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn add babel-plugin-import --dev\n")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"package.json")," 使插件生效。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},'"babel": {\n  "presets": [\n    "react-app"\n  ],\n+ "plugins": [\n+   [\n+     "import",\n+     {\n+       "libraryName": "antd",\n+       "style": "css"\n+     }\n+   ]\n+ ]\n}\n')),l.default.createElement("p",null,"让项目运行起来"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn start\n")),l.default.createElement("p",null,"接下来使用框架开发一个应用，需求是展示一个列表，有删除功能。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"编写nuomiProps"},"#"),l.default.createElement("span",null,"编写nuomiProps")),l.default.createElement("p",null,"为什么取名叫 ",l.default.createElement("code",{className:"inline"},"nuomiProps")," 稍后见分晓。"),l.default.createElement("p",null,"新增 ",l.default.createElement("code",{className:"inline"},"src/list.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-js"},"export default {\n  state: {\n    dataSource: []\n  },\n  reducers: {\n    updateState: (state, { payload }) => ({ ...state, ...payload })\n  },\n  effects: {\n    async $getList() {\n      // 模拟请求\n      const dataSource = await new Promise((res) => {\n        setTimeout(() => {\n          res([\n            { name: 'react' },\n            { name: 'redux' },\n            { name: 'router' }\n          ]);\n        }, 500);\n      });\n\n      this.dispatch({\n        type: 'updateState',\n        payload: { dataSource }\n      });\n    },\n    remove({ name }) {\n      const { dataSource } = this.getState();\n\n      this.dispatch({\n        type: 'updateState',\n        payload: {\n          dataSource: dataSource.filter((v) => v.name !== name)\n        }\n      });\n    }\n  },\n  onInit() {\n    this.store.dispatch({\n      type: '$getList'\n    });\n  }\n}\n")),l.default.createElement("p",null,"该文件导出一个对象，",l.default.createElement("code",{className:"inline"},"state")," 定义初始状态；",l.default.createElement("code",{className:"inline"},"reducers")," 控制状态的更新；",l.default.createElement("code",{className:"inline"},"effects")," 管理业务逻辑；",l.default.createElement("code",{className:"inline"},"onInit")," 业务初始化。可以通过给 ",l.default.createElement("code",{className:"inline"},"effects")," 中的方法添加 ",l.default.createElement("code",{className:"inline"},"$")," 前缀可以做到程序 ",l.default.createElement("code",{className:"inline"},"auto loading")," 功能。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"编写UI组件"},"#"),l.default.createElement("span",null,"编写UI组件")),l.default.createElement("p",null,"新增 ",l.default.createElement("code",{className:"inline"},"src/List.jsx")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-js"},"import React from 'react';\nimport { Table, Button } from 'antd';\nimport { useConnect } from 'nuomi';\n\nconst List = () => {\n  const [{ dataSource, loadings }, dispatch] = useConnect();\n\n  const remove = ({ name }) => {\n    dispatch({\n      type: 'remove',\n      payload: {\n        name\n      }\n    });\n  };\n\n  const columns = [{\n    title: '框架',\n    dataIndex: 'name'\n  }, {\n    title: '操作',\n    render: (text, record) => <Button onClick={() => remove(record)}>删除</Button>\n  }];\n\n  return (\n    <Table\n      loading={!!loadings.$getList}\n      rowKey=\"name\"\n      dataSource={dataSource}\n      columns={columns}\n      bordered\n    />\n  );\n};\n\nexport default List;\n")),l.default.createElement("p",null,"通过 ",l.default.createElement("code",{className:"inline"},"useConnect")," 可以让 ",l.default.createElement("code",{className:"inline"},"List")," 组件和 ",l.default.createElement("code",{className:"inline"},"nuomiProps")," 关联起来，但此时 ",l.default.createElement("code",{className:"inline"},"List")," 还无法正常渲染。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"渲染组件"},"#"),l.default.createElement("span",null,"渲染组件")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/App.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},'import React from \'react\';\n+ import { Nuomi } from \'nuomi\';\n- import logo from \'./logo.svg\';\n- import \'./App.css\';\n+ import list from \'./list\';\n+ import List from \'./List.jsx\';\n\nfunction App() {\n  return (\n+   <Nuomi {...list}>\n+     <List />\n+   </Nuomi>\n-   <div className="App">\n-     <header className="App-header">\n-       <img src={logo} className="App-logo" alt="logo" />\n-       <p>\n-         Edit <code>src/App.js</code> and save to reload.\n-       </p>\n-       <a\n-         className="App-link"\n-         href="https://reactjs.org"\n-         target="_blank"\n-         rel="noopener noreferrer"\n-       >\n-         Learn React\n-       </a>\n-     </header>\n-   </div>\n  );\n}\n\nexport default App;\n')),l.default.createElement("p",null,"可以看到刚才在 ",l.default.createElement("code",{className:"inline"},"list.js")," 中定义的对象就是 ",l.default.createElement("code",{className:"inline"},"Nuomi")," 组件的 ",l.default.createElement("code",{className:"inline"},"props"),"，这就是取名为 ",l.default.createElement("code",{className:"inline"},"nuomiPorps")," 的原因，独立成一个文件可以方便维护。"),l.default.createElement("p",null,"最终效果如下："),l.default.createElement(o.default,null),l.default.createElement("p",null,"利用 ",l.default.createElement("code",{className:"inline"},"Nuomi")," 组件的特性与路由结合可以快速构建单页应用，根据自己喜好可以选择 ",l.default.createElement("code",{className:"inline"},"react-router")," 也可以\n是 ",l.default.createElement("code",{className:"inline"},"reach-router"),"。框架自身也内置了一套路由系统，相较于前2者与 ",l.default.createElement("code",{className:"inline"},"Nuomi")," 结合起来使用会更加方便。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"使用路由"},"#"),l.default.createElement("span",null,"使用路由")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/App.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},"import React from 'react';\n- import { Nuomi } from 'nuomi';\n+ import { Router, Route } from 'nuomi';\nimport list from './list';\nimport List from './List.jsx';\n\nfunction App() {\n  return (\n-   <Nuomi {...list}>\n-     <List />\n-   </Nuomi>\n+    <Router>\n+     <Route path=\"/\" {...list}>\n+       <List />\n+     </Route>\n+     <Route path=\"/list\" {...list}>\n+       <List />\n+     </Route>\n+   </Router>\n  );\n}\n\nexport default App;\n")),l.default.createElement("p",null,"刷新页面可以看到与之前无任何区别，可以通过 ",l.default.createElement("code",{className:"inline"},"http://127.0.0.1:3000/#list")," 访问第二个页面。这里定义了2个 ",l.default.createElement("code",{className:"inline"},"Route")," 组件，同时引用了 ",l.default.createElement("code",{className:"inline"},"list"),"，但是2个组件的状态是互相独立的，通过这一点可以很容易做到大模块的复用。"),l.default.createElement("p",null,"上面代码中有一处是可以优化，",l.default.createElement("code",{className:"inline"},"Route")," 的子组件 ",l.default.createElement("code",{className:"inline"},"List")," 其实也是 ",l.default.createElement("code",{className:"inline"},"props"),"，可以把它放到 ",l.default.createElement("code",{className:"inline"},"list.js")," 中。"),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/App.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},"import React from 'react';\nimport { Router, Route } from 'nuomi';\nimport list from './list';\n- import List from './List.jsx';\n\nfunction App() {\n  return (\n    <Router>\n-     <Route path=\"/\" {...list}>\n-       <List />\n-     </Route>\n-     <Route path=\"/list\" {...list}>\n-       <List />\n-     </Route>\n+     <Route path=\"/\" {...list} />\n+     <Route path=\"/list\" {...list} />\n    </Router>\n  );\n}\n\nexport default App;\n")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/list.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},"import React from 'react';\n+ import List from './List.jsx';\n\nexport default {\n  ...\n+ render() {\n+   return <List />;\n+ },\n}\n")),l.default.createElement("p",null,"可以使用 ",l.default.createElement("code",{className:"inline"},"children")," 属性渲染子组件，也可以使用 ",l.default.createElement("code",{className:"inline"},"render")," 函数来渲染组件，共存时 ",l.default.createElement("code",{className:"inline"},"children")," 不会被渲染，在 ",l.default.createElement("code",{className:"inline"},"render")," 中可以通过 ",l.default.createElement("code",{className:"inline"},"this.children")," 访问子组件，这一点可以用来做路由嵌套。"),l.default.createElement("p",null,"框架的特性远不及此，更多功能等待你去发现。"))}p.isMDXComponent=!0;var m={state:{showCode:!1},setting:{title:"快速上手"},headings:[{text:"安装脚手架",depth:2,level:1},{text:"创建应用",depth:2,level:1},{text:"安装依赖包",depth:2,level:1},{text:"编写nuomiProps",depth:2,level:1},{text:"编写UI组件",depth:2,level:1},{text:"渲染组件",depth:2,level:1},{text:"使用路由",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"安装脚手架",depth:2,level:1},{text:"创建应用",depth:2,level:1},{text:"安装依赖包",depth:2,level:1},{text:"编写nuomiProps",depth:2,level:1},{text:"编写UI组件",depth:2,level:1},{text:"渲染组件",depth:2,level:1},{text:"使用路由",depth:2,level:1}],pageSidebarMenus:[],utime:1644480469435.69,render:function(){return l.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})},title:"快速上手"};t.default=m},1123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),l=n(103),a=u(n(1124)),o=u(n(1125));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return r.default.createElement(l.Nuomi,a.default,r.default.createElement(o.default,null))}},1124:function(e,t,n){"use strict";function r(e,t,n,r,l,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,l)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default={state:{dataSource:[]},reducers:{updateState:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t.payload)}},effects:{$getList:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((function(){e([{name:"react"},{name:"redux"},{name:"router"}])}),500)}));case 2:n=e.sent,t.dispatch({type:"updateState",payload:{dataSource:n}});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(l,a){var o=e.apply(t,n);function u(e){r(o,l,a,u,c,"next",e)}function c(e){r(o,l,a,u,c,"throw",e)}u(void 0)}))})()},remove:function(e){var t=e.name,n=this.getState().dataSource;this.dispatch({type:"updateState",payload:{dataSource:n.filter((function(e){return e.name!==t}))}})}},onInit:function(){this.store.dispatch({type:"$getList"})}}},1125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(195)),l=u(n(110)),a=u(n(1)),o=n(103);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(){var e=c((0,o.useConnect)(),2),t=e[0],n=t.dataSource,u=t.loadings,i=e[1],f=[{title:"框架",dataIndex:"name"},{title:"操作",render:function(e,t){return a.default.createElement(l.default,{onClick:function(){return e=t.name,void i({type:"remove",payload:{name:e}});var e}},"删除")}}];return n.length||u.$getList?a.default.createElement(r.default,{loading:!!u.$getList,rowKey:"name",dataSource:n,columns:f,bordered:!0}):a.default.createElement(l.default,{type:"primary",onClick:function(){i({type:"$getList"})}},"再试一次")}},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePath=l,t.pathToRegexp=function(e){var t=e.replace(/(\()(?!\?[:=!<>])/g,"$1?:").replace(/\/:\w+/g,"(/\\w+)").replace(/([./])/g,"\\$1").replace(/(\\\/)?\*/g,"(?:$1.*)?");return new RegExp("^".concat(t,"\\/?$"),"i")},t.restorePath=function(e){if((0,r.isString)(e))return e;var t="",n=e.pathname,l=e.query,a=e.search,o=e.url,u=e.hash;if(o&&(0,r.isString)(o))t=o;else if(n&&(0,r.isString)(n)){if(t=n,a&&(0,r.isString)(a))0!==a.indexOf("?")?t+="?".concat(a):t+=a;else if((0,r.isObject)(l)&&Object.keys(l).length){t+="?";var c=[];Object.keys(l).forEach((function(e){c.push("".concat(e,"=").concat(l[e]))})),t+=c.join("&")}u&&(0,r.isString)(u)&&(0===u.indexOf("#")?t+=u:t+="#".concat(u))}return t},t.default=function(e){var t=e,n="",r="",a={},o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var u=t.indexOf("?");-1!==u&&((r=t.substr(u)).substr(1).split("&").forEach((function(e){var t,n,r=e.split("="),l=(n=2,function(e){if(Array.isArray(e))return e}(t=r)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=l[0],u=l[1];o&&(a[o]=u)})),t=t.substr(0,u));return{pathname:t=l(t),url:t+r+n,hash:n,search:r,query:a,params:{}}};var r=n(22);function l(e){return"/".concat(e).replace(/\/{2,}/g,"/").replace(/([^/])\/$/,"$1").replace(/\*{2,}/g,"*")}},173:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeReducer=t.createReducer=void 0;var l=n(172),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77)),o=n(22);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c={},i=function(){Object.keys(c).length?a.default.replaceReducer((0,l.combineReducers)(c)):a.default.replaceReducer(o.noop)};t.createReducer=function(e,t){e&&t&&(c[e]=t,i())};t.removeReducer=function(e){c[e]&&(delete c[e],(0,a.setStore)(e,null),i())}},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqual=t.noop=t.isNative=t.isArray=t.isObject=t.isString=t.isFunction=t.isType=void 0;var r=function(e){return function(t){return{}.toString.call(t)==="[object ".concat(e,"]")}};t.isType=r;t.isFunction=function(e){return"function"==typeof e};var l=r("String");t.isString=l;var a=function(e){return e&&r("Object")(e)};t.isObject=a;var o=Array.isArray||r("Array");t.isArray=o;t.isNative=function(e){return void 0!==e&&/native code/i.test(e.toString())};t.noop=function(){};t.shallowEqual=function(e,t){if(Object.is(e,t))return!0;if(!a(e)||!a(t))return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var l=0;l<n.length;l++)if(!Object.prototype.hasOwnProperty.call(t,n[l])||!Object.is(e[n[l]],t[n[l]]))return!1;return!0}},240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),l=i(n(241)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(104)),o=n(22),u=n(41);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n;p(this,t);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];(n=y(this,(e=h(t)).call.apply(e,[this].concat(l)))).mounted=!1,n.store={};var c=n.props,i=c.async,f=d(c,["async"]),s=(0,o.isFunction)(i);return n.state={loaded:!s,nuomiProps:a.default.extend((0,a.getDefaultProps)(),f)},n}var n,u,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(u=[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadProps()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loaded",value:function(e){var t=this.state.nuomiProps;!0===this.mounted&&this.setState({loaded:!0,nuomiProps:a.default.extend(t,e)})}},{key:"loadProps",value:function(){var e=this,t=this.props.async;if(!this.state.loaded){var n=t((function(t){e.loaded(t)}));n&&n instanceof Promise&&n.then((function(t){return e.loaded(t.default)}))}}},{key:"render",value:function(){var e=this.state,t=e.loaded,n=e.nuomiProps,a=this.props.children;return t?r.default.createElement(l.default,s({},n,{store:this.store}),a):null}}])&&m(n.prototype,u),c&&m(n,c),t}(r.default.PureComponent);t.default=g,E(g,"propTypes",u.NuomiPropTypes),E(g,"defaultProps",{state:{},data:{},reducers:{}})},241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(1)),l=y(n(62)),a=n(173),o=m(n(77)),u=n(22),c=y(n(104)),i=m(n(631)),f=n(32),s=y(n(105)),d=n(41);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function m(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}return n.default=e,t&&t.set(e,n),n}function y(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n,r,l,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,l)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=O(this,(e=j(t)).call.apply(e,[this].concat(l)))).unListener=null,n.effects=null,n.initialize(),n}var n,d,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(d=[{key:"componentWillUnmount",value:function(){var e=this.props.store;(0,a.removeReducer)(e.id),e.id=null,this.removeListener()}},{key:"getId",value:function(){var e=this.props,n=e.id,r=e.store;if(r.id)return r.id;if(!n)return"@@nuomi_".concat(++t.nuomiId);if((0,o.getStore)(n))throw new Error("storeId：".concat(n," 已被定义，请重新命名！"));return n}},{key:"initialize",value:function(){this.createStore(),this.createReducer(),this.nuomiInit()}},{key:"getEffects",value:function(){var e=this,t=this.props,n=t.effects,r=t.store,l={};return(0,u.isObject)(n)?l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{getNuomiProps:function(){return e.props},getState:r.getState,dispatch:r.dispatch}):(0,u.isFunction)(n)&&(l=t.effects()||{}),l.constructor===Object?l:(0,i.getClassEffects)(l)}},{key:"createStore",value:function(){var e=this,t=this.props,n=t.store,r=t.reducers;n.id=this.getId(),n.dispatch=function(){var t,l=(t=regeneratorRuntime.mark((function t(l){var a,c,f,s,d,p,m,y,h,b,E,g,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.type,c=l.payload,n.id){t.next=3;break}return t.abrupt("return",l);case 3:if(e.effects||(e.effects=e.getEffects()),f=e.effects,-1!==(s=a.indexOf("/"))){t.next=33;break}if(!(0,u.isObject)(f)||!(0,u.isFunction)(f[a])){t.next=26;break}return d=[],p="".concat(n.id,"/_updateLoading"),t.prev=10,m=new i.default(f,{get:function(e,t){var n=f[t];if((0,u.isFunction)(n)&&0===t.indexOf("$")){var r=d.slice(-1)[0],l=w({},t,!0);r!==a&&r&&(l[r]=!1,d.pop()),o.default.dispatch({type:p,payload:l}),d.push(t)}return n}}),t.next=14,m[a](c);case 14:return t.abrupt("return",t.sent);case 17:if(t.prev=17,t.t0=t.catch(10),!t.t0||t.t0.constructor===Object){t.next=21;break}throw t.t0;case 21:return t.prev=21,n.id&&d.length&&(y=w({},d[0],!1),(h=d.slice(-1)[0])&&(y[h]=!1),o.default.dispatch({type:p,payload:y})),t.finish(21);case 24:t.next=31;break;case 26:if(!r[a]||!n.id){t.next=30;break}return t.abrupt("return",o.default.dispatch({type:"".concat(n.id,"/").concat(a),payload:c}));case 30:return t.abrupt("return",l);case 31:t.next=41;break;case 33:if(b=a.substr(0,s),E=a.substr(s+1),!(g=(0,o.getStore)(b))){t.next=41;break}return t.next=39,g.dispatch({type:E,payload:c});case 39:return v=t.sent,t.abrupt("return",v);case 41:case"end":return t.stop()}}),t,null,[[10,17,21,24]])})),function(){var e=this,n=arguments;return new Promise((function(r,l){var a=t.apply(e,n);function o(e){b(a,r,l,o,u,"next",e)}function u(e){b(a,r,l,o,u,"throw",e)}o(void 0)}))});return function(e){return l.apply(this,arguments)}}(),n.getState=function(){return o.default.getState()[n.id]||t.state},(0,o.setStore)(n.id,n)}},{key:"createReducer",value:function(){var e=this.props,t=e.store,n=e.state,r=e.reducers,u=(s.default[o.INITIALISE_STATE]||o.initialiseState||{})[t.id];u=u?c.default.extend({state:n},{state:u}).state:n,(0,a.createReducer)(t.id,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments.length>1?arguments[1]:void 0,a=n.type,o="".concat(t.id,"/");if(0===a.indexOf(o)){var c=a.replace(o,"");if(r[c])return r[c](e,n);(0,l.default)(!1,"未定义actionType为 ".concat(a," 的 reducer，如果你想调用 effects 中的方法，请使用\n          \nstore.getStore('").concat(t.id,"').dispatch({\n  type: '").concat(c,"',\n  payload,\n})"))}return e}))}},{key:"removeListener",value:function(){(0,u.isFunction)(this.unListener)&&(this.unListener(),this.unListener=null)}},{key:"nuomiInit",value:function(){var e=this.props;this.removeListener(),e.onInit&&(this.unListener=e.onInit())}},{key:"render",value:function(){var e=this.props,t=e.render?e.render(e.children):e.children;return t?r.default.createElement(f.NuomiContext.Provider,{value:{nuomiProps:this.props}},t):null}}])&&v(n.prototype,d),p&&v(n,p),t}(r.default.PureComponent);t.default=S,w(S,"propTypes",d.NuomiPropTypes),w(S,"nuomiId",0)},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(1)),l=f(n(50)),a=n(32),o=f(n(240)),u=n(56),c=n(22),i=n(41);function f(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){return m(this,t),h(this,b(t).apply(this,arguments))}var n,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(i=[{key:"matchPath",value:function(e){var t=e.pathname,n=this.props,r=n.pathPrefix,l=n.path;return l?(0,u.match)(e,l):r instanceof RegExp?r.test(t):!!(0,c.isString)(r)&&0===t.indexOf(r)}},{key:"render",value:function(){var e=this;return r.default.createElement(a.RouterContext.Consumer,null,(function(t){return(0,l.default)(t,"不允许在 <Router> 外部使用 <NuomiRoute>"),t.matched&&t.matched!==e||!e.matchPath(t.location)?null:(t.matched=e,r.default.createElement(a.RouterContext.Provider,{value:p({},t,{matched:null})},r.default.createElement(o.default,e.props)))}))}}])&&y(n.prototype,i),f&&y(n,f),t}(r.default.PureComponent);t.default=v,g(v,"propTypes",i.NuomiRoutePropTypes)},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),l=s(n(50)),a=n(32),o=s(n(636)),u=s(n(56)),c=n(104),i=n(41),f=n(173);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n;y(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=b(this,(e=E(t)).call.apply(e,[this].concat(l)))).store={},n.routeTempData={},n.routeComponent=null,n.wrappers=[],n}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(i=[{key:"componentWillUnmount",value:function(){(0,f.removeReducer)(this.store.id),this.context.matched===this&&(this.context.matched=null)}},{key:"render",value:function(){var e=this,t=(0,c.getDefaultProps)(),n=this.props,i=n.path,f=n.cache,s=void 0===f?t.cache:f;return r.default.createElement(a.RouterContext.Consumer,null,(function(t){(0,l.default)(t,"不允许在 <Router> 外部使用 <Route>"),e.context=t;var n=(!t.matched||t.matched===e)&&u.default.matchPath(t.location,i);if(!n)return!0===s&&null!==e.routeComponent?e.routeComponent:null;e.routeComponent=null;var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{matched:null,wrappers:t.childrenWrappers||t.wrappers,childrenWrappers:e.wrappers,routeTempData:e.routeTempData});return n&&(t.matched=e,e.routeComponent=r.default.createElement(a.RouterContext.Provider,{value:c},r.default.createElement(o.default,p({},e.props,{cache:s,location:n,store:e.store})))),e.routeComponent}))}}])&&h(n.prototype,i),s&&h(n,s),t}(r.default.PureComponent);t.default=O,v(O,"propTypes",i.RoutePropTypes),v(O,"defaultProps",{path:"",state:{},data:{},reducers:{}})},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),l=s(n(50)),a=n(32),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(56)),u=n(125),c=n(22),i=n(41);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n;p(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=y(this,(e=h(t)).call.apply(e,[this].concat(l)))).redirected=!1,n}var n,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.from,i=t.to,f=t.reload;return r.default.createElement(a.RouterContext.Consumer,null,(function(t){(0,l.default)(t,"不允许在 <Router> 外部使用 <Redirect>");var r=t.matched,a=t.location,s=t.staticContext;return!i||t.redirecting||e.redirected?e.redirected&&(e.redirected=!1):(n&&(0,o.match)(a,n)||!r&&!n)&&(e.redirected=!0,t.redirecting=!0,o.default.replace(i,f),s&&(s.url=(0,c.isObject)(i)?(0,u.restorePath)(i):i)),null}))}}])&&m(n.prototype,i),f&&m(n,f),t}(r.default.PureComponent);t.default=g,E(g,"propTypes",i.RedirectPropTypes),E(g,"defaultProps",{from:"",to:"",reload:!1})},245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),l=i(n(50)),a=n(32),o=n(56),u=n(77),c=n(41);function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){var e,n;s(this,t);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];(n=p(this,(e=m(t)).call.apply(e,[this].concat(a)))).mounted=!1,n.state={},n.location=null,n.wrappers=[];var c=n.context||{},i=c.staticLocation;return n.clearRouter=(0,o.createRouter)(n.props,i,(function(e){n.mounted?n.setState({location:e}):(n.location=e,n.state.location||(n.state.location=e))})),n.clearRouter||(0,l.default)(!1,"<Router> 不能重复创建"),n}var n,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(c=[{key:"componentDidMount",value:function(){this.mounted=!0,this.state.location!==this.location&&this.setState({location:this.location})}},{key:"componentWillUnmount",value:function(){this.clearRouter&&(this.clearRouter(),this.mounted=!1,this.location=null,(0,u.clearStore)())}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.basename,l=e.type,o={location:this.state.location,staticContext:(this.context||{}).staticContext,matched:null,wrappers:this.wrappers,basename:n,type:l};return r.default.createElement(a.RouterContext.Provider,{value:o},t)}}])&&d(n.prototype,c),i&&d(n,i),t}(r.default.PureComponent);t.default=b,h(b,"propTypes",c.RouterPropTypes),h(b,"contextType",a.RouterContext),h(b,"defaultProps",{basename:"/",type:"hash"})},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Link=void 0;var r,l=(r=n(1))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(56)),o=n(41),u=n(22);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?h(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n;d(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return E(h(n=m(this,(e=y(t)).call.apply(e,[this].concat(l)))),"onClick",(function(e){e.preventDefault();var t=n.props,r=t.to,l=t.reload,o=t.data,c=t.replace,i=t.onClick;(0,u.isFunction)(i)&&!1===i(e)||a.default[c?"replace":"location"](r,o,l)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.to,n=(e.reload,e.data,e.replace,e.forwardRef),r=s(e,["to","reload","data","replace","forwardRef"]);return l.default.createElement("a",f({href:(0,a.combinePath)(t)},r,{onClick:this.onClick,ref:n}))}}])&&p(n.prototype,r),o&&p(n,o),t}(l.default.PureComponent);t.Link=g,E(g,"propTypes",o.LinkPropTypes),E(g,"defaultProps",{to:"",data:null,replace:!1,reload:!1});var v=l.default.forwardRef((function(e,t){return l.default.createElement(g,f({},e,{forwardRef:t}))}));t.default=v},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NuomiContext=t.RouterContext=void 0;var r,l=(r=n(1))&&r.__esModule?r:{default:r};var a=l.default.createContext();t.RouterContext=a,a.displayName="RouterContext";var o=l.default.createContext();t.NuomiContext=o,o.displayName="NuomiContext"},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectPropTypes=t.NavLinkPropTypes=t.LinkPropTypes=t.StaticRouterPropTypes=t.RouterPropTypes=t.RoutePropTypes=t.ShapeRoutePropTypes=t.NuomiRoutePropTypes=t.NuomiPropTypes=void 0;var r,l=(r=n(0))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={id:l.default.string,state:l.default.object,data:l.default.object,store:l.default.object,reducers:l.default.objectOf(l.default.func),effects:l.default.oneOfType([l.default.func,l.default.object]),render:l.default.func,onInit:l.default.func,async:l.default.func};t.NuomiPropTypes=c;var i=o({},c,{pathPrefix:l.default.oneOfType([l.default.string,l.default.object]),path:l.default.string});t.NuomiRoutePropTypes=i;var f={routes:l.default.arrayOf(l.default.object)};t.ShapeRoutePropTypes=f;var s=o({},c,{path:l.default.string,cache:l.default.oneOf(["state",!0,!1]),reload:l.default.bool,onEnter:l.default.func,onChange:l.default.oneOfType([l.default.func,l.default.object]),onLeave:l.default.func});t.RoutePropTypes=s;var d={basename:l.default.string,type:l.default.oneOf(["hash","browser"])};t.RouterPropTypes=d;var p={basename:l.default.string,location:l.default.oneOfType([l.default.string,l.default.object]),context:l.default.object};t.StaticRouterPropTypes=p;var m={to:l.default.oneOfType([l.default.string,l.default.object]),data:l.default.oneOfType([l.default.object,l.default.func]),reload:l.default.bool,replace:l.default.bool};t.LinkPropTypes=m;var y=o({},m,{path:l.default.string,activeClassName:l.default.string,activeStyle:l.default.object,isActice:l.default.func});t.NavLinkPropTypes=y;var h={from:l.default.string,to:l.default.oneOfType([l.default.string,l.default.object]),reload:l.default.bool};t.RedirectPropTypes=h},443:function(e,t,n){n(444),e.exports=n(620)},56:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=x,t.createRouter=function(e,n,r){n&&((0,a.isFunction)(P)&&P(),p=n);if(!b){b=!0,j=s({},j,{},e);var l=(v="browser"!==j.type)?"hashchange":"popstate";return I((function(e){r(w=e)})),u.default.addEventListener(l,M),P=function(){b=!1,u.default.removeEventListener(l,M),T(),g={},j=O,v=!0,p=u.default.location,P=null,w=null,_=null,t.blockData=S={}}}},t.combinePath=A,t.match=W,t.default=t.blockData=void 0;var l=i(n(62)),a=n(22),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(125)),u=i(n(105));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=u.default.location,m=u.default.history,y=[],h={},b=!1,E=!0,g={},v=!0,O={type:"hash",basename:"/"},j=O,P=null,w=null,S={};t.blockData=S;var _=null;function k(){var e=p,t=e.pathname,n=e.search,r=e.hash,l="";return l=v?r.substr(1):t+n+r,decodeURI(l)}function x(){var e=k();return(0,o.default)(e.replace(new RegExp("^".concat(j.basename)),""))}function N(){var e=s({},x(),{},h);return h={},e}function R(){var e=null;y.forEach((function(t){e||(e=N()),t(e)}))}function M(){if(E)if((0,a.isFunction)(S.callback)||(0,a.isFunction)(_)){S.toLocation||(S.toLocation=N());var e=S.toLocation,n=e.url,r=e.reload,l=e.data;(S.callback||_)((function(e){t.blockData=S={},E=!0,e?R():D(n,l,r)}),(function(e){E=!1,S.toLocation=null,C(e)}),S.toLocation)}else R();else E=!0}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,o.restorePath)(e),n=t.indexOf("?"),r=t.indexOf("#"),l=t,a="";return-1!==n?(l=t.substr(0,n),a=t.substr(n)):-1!==r&&(l=t.substr(0,r),a=t.substr(r)),(0,o.normalizePath)("".concat(j.basename,"/").concat(l))+a}function L(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3];if(t){"boolean"==typeof n&&(r=n),"boolean"==typeof r&&(h.reload=r),((0,a.isObject)(n)||(0,a.isFunction)(n))&&(h.data=n);var l=A(t),o=k();if(l!==o)if(!v||m.pushState||m.replaceState)v&&(l="#".concat(l)),m["push"===e?"pushState":"replaceState"]({url:l},null,l),M();else if("push"===e)p.hash=l;else{var u=p,c=u.pathname,i=u.search;p.replace("".concat(c+i,"#").concat(l))}else!0===r&&M()}}function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return x();L.apply(void 0,["push"].concat(t))}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];L.apply(void 0,["replace"].concat(t))}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];y=t.length?y.filter((function(e){return e!==t[0]})):[]}function I(e){return(0,a.isFunction)(e)?(y.push(e),e(x(),!0),function(){T(e)}):function(){}}function W(e,t,n){var r=e.pathname,l=(0,o.normalizePath)(t),a=g[l];a||(a=(0,o.pathToRegexp)(l),g[l]=a);var u=r.match(a),c=!!u;if(c&&n){var i=t.match(/\/:(\w+)/g);if(i){var f={};return i.forEach((function(e,t){var n=e.replace(/^\/:/,""),r=u[t+1];void 0!==r&&(f[n]=r.replace(/^\//,""))})),s({},e,{params:f})}return e}return c}var z={listener:I,location:D,reload:function(){C(x().url,!0)},replace:C,back:function(e){m.back(e)},forward:function(e){m.forward(e)},matchPath:function(){return W(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],!0)},mergePath:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e&&(0,a.isString)(e)})),l=r.length-1;return r=r.map((function(e,t){return t<l?e.replace(/\*$/,""):e})),(0,o.normalizePath)(r.join("/"))},block:function(e){_?(0,l.default)(!1,"router.block只能创建一次"):(0,a.isFunction)(e)&&(_=function(t,n,r){var l=!1!==e(w,r,t);l?t(l):n(w.url)})}};t.default=z},620:function(e,t,n){"use strict";var r=i(n(1)),l=i(n(6)),a=n(103),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(78));n(1115);var u=i(n(1116));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=[p({ctime:1587103347272.0408,utime:1644479868757.9507,pathname:"/",filename:"README",ext:".md",title:"README",path:"/"},n(1117).default),{path:"/api",children:[p({ctime:1587106391052.6233,utime:1587106898836.9592,pathname:"/api/",filename:"README",ext:".md",title:"README",path:"/"},n(1118).default),{path:"*",children:r.default.createElement(o.NotFound,null)}]},{path:"/guide",children:[p({ctime:1587103347273.0015,utime:1587105999133.3252,pathname:"/guide/",filename:"README",ext:".md",title:"README",path:"/"},n(1119).default),p({ctime:1587106040240.5022,utime:1587106062423.0205,pathname:"/guide/",filename:"examples",ext:".md",title:"examples",path:"/examples"},n(1120).default),p({ctime:1587108242614.8472,utime:1587113535477.0825,pathname:"/guide/",filename:"functions",ext:".md",title:"functions",path:"/functions"},n(1121).default),p({ctime:1587103347273.7185,utime:1644480469435.69,pathname:"/guide/",filename:"quick-start",ext:".md",title:"quick-start",path:"/quick-start"},n(1122).default),{path:"*",children:r.default.createElement(o.NotFound,null)}]}],h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){if("*"!==t.path){var r=t.children,l=(t.render,t.effects,t.reducers,t.onInit,t.onChange,s(t,["children","render","effects","reducers","onInit","onChange"]));Array.isArray(r)?n=e(r,n):t.title&&n.push(l)}})),n}(y),b=function e(t,n){var r=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n.forEach((function(n){if("string"==typeof n){var o=n,u=(t+"/").replace(/\/+$/,"/")+n,c=o.lastIndexOf("/");if(-1!==c&&(o=o.substr(c+1)),o){var i,s=h.find((function(e){return e.pathname+e.filename===u}));if(s){var d=s.pathname,p=s.filename,m=s.title,y=s.ext,b={to:d+(/^README$/i.test(p)?"":p),text:m};r.pathname+r.filename===u&&y===r.ext&&(b.menus=r.sidebarMenus),i=b}else i={to:r.pathname+o,text:o};a.push(i),l.push(i)}}else if(n&&"object"===f(n))if(Array.isArray(n)){var E=e.call(r,t,n),g=E.menus,v=E.list;a=a.concat(v),l=l.concat(g)}else{var O=n.text,j=n.menus;if(O)if(Array.isArray(j)){var P=e.call(r,t,j),w=P.menus,S=P.list,_={text:O,menus:w};a=a.concat(S),l.push(_)}else l.push({text:O})}})),{menus:l,list:a}};a.nuomi.config({state:{listSource:[]},effects:{initData:function(){var e=this.getNuomiProps(),t=e.title,n=e.pathname,r=e.filename,l=e.showSidebar,o=e.showPageSidebar,u=e.sidebarTitle,c=e.sidebarMenus,i=e.pageSidebarMenus,f=e.data,s=(e.location,{sidebarTitle:u,showSidebar:!!l,showPageSidebar:!!o,pageSidebarMenus:i});if(!f.computedSidebarMenus){var d,p,m={"/guide":{title:"指南",menus:["README","quick-start","functions","examples"]}},y=n+r,h=function e(t,n){var r=!1;if(Array.isArray(n)){var l=!0,a=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var i=u.value;if("string"==typeof i&&(t+"/").replace(/\/+$/,"/")+i===y){r=!0;break}!r&&i&&i.menus&&(r=e(t,i.menus))}}catch(e){a=!0,o=e}finally{try{l||null==c.return||c.return()}finally{if(a)throw o}}}return r};for(var E in m){var g=m[E]||{};if(n.startsWith(E)&&h(E,g.menus)){d=g,p=E;break}}if(d){s.sidebarTitle=d.title;var v=b.call(e,p,d.menus),O=v.menus,j=v.list;f.listSource=j,f.computedSidebarMenus=O}else f.listSource=[],f.computedSidebarMenus=[{text:t,menus:c}]}s.sidebarMenus=f.computedSidebarMenus||[];var P=f.listSource||[];this.dispatch({type:"_updateState",payload:{listSource:P}}),a.store.dispatch({type:"global/_updateState",payload:s})}},onInit:function(){var e=this.path,t=this.title,n=this.location,r=this.data;if(document.title=t&&"/"!==e?t+" | NuomiJS":"NuomiJS",t){if(r.hash){var l=window.location.hash;return void setTimeout((function(){window.location.hash=l+"#"+r.hash}))}n.hash||window.scrollTo({top:0})}else e&&window.scrollTo({top:0})}});var E=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){var r=t.to,l=t.text,a=t.menus;l&&(Array.isArray(a)?n.push({text:l,to:r,menus:e(a)}):n.push({text:l,to:r}))})),n}([{text:"指南",to:"/guide"},{text:"API",to:"/api"},{text:"v0.8.19",to:"https://github.com/nuomijs/nuomi/blob/master/CHANGELOG.md"},{text:"GitHub",to:"https://github.com/nuomijs/nuomi"}]),g={showSidebar:!1,pageSidebar:!1,sidebarTtile:"",sidebarMenus:[],pageSidebarMenus:[]};l.default.render(r.default.createElement((function(){return r.default.createElement(a.Router,{type:"hash",basename:"/"},r.default.createElement(a.Nuomi,{id:"global",state:g,onInit:null},r.default.createElement(o.Layout,{type:"hash",title:"NuomiJS",nav:E,footer:u.default,dataSource:h},r.default.createElement(a.ShapeRoute,{routes:y}),r.default.createElement(a.Route,{path:"*"},r.default.createElement(o.NotFound,null)))))}),null),document.getElementById("root"))},625:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"nuomi",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"router",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"store",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"INITIALISE_STATE",{enumerable:!0,get:function(){return o.INITIALISE_STATE}});var l=c(n(104)),a=c(n(56)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}},626:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={state:{loadings:{}},data:{},reducers:{_replaceState:function(e,t){return t.payload},_updateState:function(e,t){return l({},e,{},t.payload)},_updateLoading:function(e,t){var n=t.payload;return l({},e,{loadings:l({},e.loadings,{},n)})}}};t.default=o},627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(22);function l(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],u=t[1],c=o({},a);if((0,r.isObject)(u)){var i=Object.keys(u),f=u.state,s=u.data,d=u.reducers,p=u.effects,m=u.onChange,y=l(u,["state","data","reducers","effects","onChange"]);if(c=o({},c,{},y),(0,r.isObject)(f)){var h=f.loadings,b=l(f,["loadings"]),E=a.state;c.state=o({},E,{},b,{loadings:o({},E.loadings,{},h)})}(0,r.isObject)(s)&&(c.data=o({},a.data,{},s)),(0,r.isObject)(d)&&(c.reducers=o({},a.reducers),Object.keys(d).forEach((function(e){(0,r.isFunction)(d[e])&&(c.reducers[e]=d[e])}))),i.includes("effects")&&((0,r.isObject)(p)?c.effects=o({},c.effects,{},p):c.effects=p),i.includes("onChange")&&((0,r.isObject)(m)?c.onChange=o({},c.onChange,{},m):(0,r.isFunction)(m)?c.onChange=o({},c.onChange,{__ONCHANGE__:m}):c.onChange=m)}return c}},629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(172),l=n(22);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e,t){return function(n){return function(){var o,c=n.apply(void 0,arguments),i=function(){throw new Error("dispatch未被创建，不允许使用")},f={getState:c.getState,dispatch:function(){return i.apply(void 0,arguments)}};return u({},c,{dispatch:function(n){if(!o){var u=e().map((function(e){return e(f)}));o=r.compose.apply(void 0,a(u))(c.dispatch),i=o,(0,l.isFunction)(t)&&t()}return o(n)}})}}}},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Nuomi:!0,NuomiRoute:!0,ShapeRoute:!0,Router:!0,StaticRouter:!0,Route:!0,Redirect:!0,Link:!0,NavLink:!0,connect:!0,withNuomi:!0};Object.defineProperty(t,"Nuomi",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"NuomiRoute",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ShapeRoute",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"withNuomi",{enumerable:!0,get:function(){return m.default}});var l=h(n(240)),a=h(n(242)),o=h(n(635)),u=h(n(245)),c=h(n(638)),i=h(n(243)),f=h(n(244)),s=h(n(246)),d=h(n(639)),p=h(n(640)),m=h(n(641)),y=n(32);function h(e){return e&&e.__esModule?e:{default:e}}Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}))},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getClassEffects=void 0;var r=a(n(632)),l=n(22);function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=a(n(105)).default.Proxy,i=(0,l.isNative)(c),f=i?c:(0,r.default)();t.getClassEffects=function(e){if(!i){var t=function(){for(var t={},n=function(e,n){"constructor"===e||t[e]||(t[e]=n)},r=e,l=function(){var e=Object.getPrototypeOf(r);if(e.constructor===Object)return"break";var t=Object.entries(r),l=Object.getOwnPropertyNames(e);r=e,t.forEach((function(e){var t=u(e,2),r=t[0],l=t[1];n(r,l)})),l.forEach((function(t){n(t,e[t])}))};r.constructor!==Object;){if("break"===l())break}return{v:t}}();if("object"===o(t))return t.v}return e};var s=f;t.default=s},632:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){var e,t=null;function n(e){return!!e&&("object"===r(e)||"function"==typeof e)}return(e=function(e,r){if(!n(e)||!n(r))throw new TypeError("Cannot create proxy with a non-object as target or handler");var l=function(){};t=function(){e=null,l=function(e){throw new TypeError("Cannot perform '".concat(e,"' on a proxy that has been revoked"))}},setTimeout((function(){t=null}),0);var a=r;for(var o in r={get:null,set:null,apply:null,construct:null},a){if(!(o in r))throw new TypeError("Proxy polyfill does not support trap '".concat(o,"'"));r[o]=a[o]}"function"==typeof a&&(r.apply=a.apply.bind(a));var u=this,c=!1,i=!1;"function"==typeof e?(u=function(){var t=this&&this.constructor===u,n=Array.prototype.slice.call(arguments);if(l(t?"construct":"apply"),t&&r.construct)return r.construct.call(this,e,n);if(!t&&r.apply)return r.apply(e,this,n);if(t){n.unshift(e);var a=e.bind.apply(e,n);return new a}return e.apply(this,n)},c=!0):e instanceof Array&&(u=[],i=!0);var f=r.get?function(e){return l("get"),r.get(this,e,u)}:function(e){return l("get"),this[e]},s=r.set?function(e,t){l("set"),r.set(this,e,t,u)}:function(e,t){l("set"),this[e]=t},d=Object.getOwnPropertyNames(e),p={};d.forEach((function(t){if(!c&&!i||!(t in u)){var n={enumerable:!!Object.getOwnPropertyDescriptor(e,t).enumerable,get:f.bind(e,t),set:s.bind(e,t)};Object.defineProperty(u,t,n),p[t]=!0}}));var m=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(u,Object.getPrototypeOf(e)):u.__proto__?u.__proto__=e.__proto__:m=!1,r.get||!m)for(var y in e)p[y]||Object.defineProperty(u,y,{get:f.bind(e,y)});return Object.seal(e),Object.seal(u),u}).revocable=function(n,r){return{proxy:new e(n,r),revoke:t}},e}},635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(1)),l=d(n(50)),a=n(22),o=d(n(56)),u=n(41),c=n(32),i=d(n(243)),f=d(n(242)),s=d(n(244));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e,t){return e?"".concat(e,"_").concat(t):t},w=function(e){function t(){return b(this,t),g(this,v(t).apply(this,arguments))}var n,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(l=[{key:"getComponents",value:function(e,t){var n=this,l=[];return e.filter((function(e){return!!e})).forEach((function(e,u){if(r.default.isValidElement(e))l.push(r.default.cloneElement(e,{key:P(e.key,u)}));else{var c=e.key,d=e.route,p=e.children,b=h(e,["key","route","children"]),E=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b),g=(0,a.isArray)(p)&&p.length,v=i.default;b.to?v=s.default:b.path&&!1===d&&(v=f.default),E.path&&(E.path=o.default.mergePath(t,E.path,g?"/*":""));var O=g?n.getComponents(p,E.path):p;l.push(r.default.createElement(v,m({key:P(c,u)},E),O))}})),l}},{key:"render",value:function(){var e=this.props.routes;return this.getComponents(e)}}])&&E(n.prototype,l),u&&E(n,u),t}(r.default.PureComponent);j(w,"propTypes",u.ShapeRoutePropTypes),j(w,"defaultProps",{routes:[]});var S=function(e){return r.default.createElement(c.RouterContext.Consumer,null,(function(t){return(0,l.default)(t,"不允许在 <Router> 外部使用 <ShapeRoute>"),r.default.createElement(w,e)}))};t.default=S},636:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),l=n(32),a=s(n(637)),o=n(22),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(104)),c=n(56),i=n(41);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(){var e,n;h(this,t);for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];(n=E(this,(e=g(t)).call.apply(e,[this].concat(a)))).wrapperRef=r.default.createRef(),n.mounted=!1,n.wrapper=null;var i=n.props,f=i.async,s=y(i,["async"]),d=!(0,o.isFunction)(f),p=u.default.extend((0,u.getDefaultProps)(),s);return n.state={loaded:d,visible:!!d&&!p.onEnter,nuomiProps:p},n}var n,l,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(l=[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.context.wrappers,n=this.wrapperRef.current,r=this.state,l=r.loaded,a=r.nuomiProps;n&&(this.wrapper=n,t.push(n)),this.hideWrapper(),l?this.visibleHandler(a,(function(){e.showWrapper(a),e.visibleRoute()})):this.loadProps((function(t){e.visibleHandler(t,(function(){e.showWrapper(t),e.visibleRoute({loaded:!0,nuomiProps:t})}))}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.context.wrappers,r=this.props,l=r.location,a=r.cache,o=this.wrapperRef.current;if(!0!==a&&this.wrapper?(this.removeWrapper(),this.wrapper=null):!0===a&&!this.wrapper&&o&&(this.wrapper=o,n.push(o)),l!==e.location&&(this.hideWrapper(),!0===a)){var u=this.state.nuomiProps;this.visibleHandler(u,(function(){t.showWrapper(u)}))}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.removeWrapper()}},{key:"setTempData",value:function(e){var t=this.state.nuomiProps.data,n=this.context.routeTempData,r=Object.keys(e);if(r.length){var l=Object.keys(t);n.temp=e,n.prev={},r.forEach((function(r){l.includes(r)&&(n.prev[r]=t[r]),t[r]=e[r]}))}}},{key:"restoreData",value:function(){var e=this.state.nuomiProps.data,t=this.context.routeTempData;if(t.temp){var n=Object.keys(t.temp);n.length&&(n.forEach((function(t){delete e[t]})),t.temp=null)}if(t.prev){var r=Object.keys(t.prev);r.length&&(r.forEach((function(n){e[n]=t.prev[n]})),t.prev=null)}}},{key:"loadProps",value:function(e){var t=this.props.async,n=this.state.nuomiProps,r=t((function(t){e(u.default.extend(n,t))}));r&&r instanceof Promise&&r.then((function(t){return e(u.default.extend(n,t.default))}))}},{key:"visibleHandler",value:function(e,t){e.onEnter?!0===e.onEnter((function(){t()}))&&t():t()}},{key:"visibleRoute",value:function(e){var t=this.state.visible;this.mounted&&(t?e&&this.setState(e):this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({visible:!0},e)))}},{key:"showWrapper",value:function(e){var t=this.props.location.url;(0,o.isFunction)(e.onLeave)&&(c.blockData.callback=function(n,r,l){var a=!1!==e.onLeave(n,l);a?n(a):r(t)}),this.wrapper&&(this.wrapper.style.display="block")}},{key:"removeWrapper",value:function(){var e=this,t=this.context.wrappers;this.wrapper&&(this.context.wrappers=t.filter((function(t){return t!==e.wrapper})))}},{key:"hideWrapper",value:function(){this.context.wrappers.forEach((function(e){e.style.display="none"}))}},{key:"getNextProps",value:function(){var e=this.props,t=e.location,n={location:t},r=this.state.nuomiProps;return["path","cache","reload","children"].forEach((function(t){n[t]=void 0===e[t]?r[t]:e[t]})),null!==n.reload&&void 0!==t.reload&&(n.reload=t.reload),n}},{key:"render",value:function(){var e=this.getNextProps(),t=e.cache,n=e.location,l=this.state,u=l.nuomiProps,c=l.visible,i=l.loaded;if(this.restoreData(),(0,o.isObject)(n.data)&&this.setTempData(n.data),!0===t||i&&c){var f=r.default.createElement(a.default,p({},u,e));return!0===t?r.default.createElement("div",{ref:this.wrapperRef,className:"nuomi-route-wrapper"},i&&c&&f):f}return null}}])&&b(n.prototype,l),i&&b(n,i),t}(r.default.PureComponent);t.default=j,O(j,"propTypes",i.RoutePropTypes),O(j,"contextType",l.RouterContext)},637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=n(241))&&r.__esModule?r:{default:r},a=n(22),o=n(41),u=n(173);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){return s(this,t),p(this,m(t).apply(this,arguments))}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.store,n=e.cache;"state"!==n&&!0!==n&&((0,u.removeReducer)(t.id),t.id=null),this.removeListener()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.store.id&&!0===t.reload,r=e.location!==t.location;n&&this.replaceState(),r&&this.routerChange(),n&&this.nuomiInit()}},{key:"initialize",value:function(){var e=this.props,t=e.store,n=e.reload;t.id?!0===n?(this.replaceState(),this.routerChange(!0),this.nuomiInit()):this.routerChange():(this.createStore(),this.createReducer(),this.routerChange(!0),this.nuomiInit())}},{key:"replaceState",value:function(){var e=this.props;e.store.dispatch({type:"_replaceState",payload:f({},e.state)})}},{key:"routerChange",value:function(e){var t=this.props,n=t.location,r=t.onChange;(0,a.isFunction)(n.data)&&n.data(t),(0,a.isFunction)(r)?r.call(t):(0,a.isObject)(r)&&Object.keys(r).forEach((function(n){var l=r[n];if((0,a.isFunction)(l)){if(e&&0===n.indexOf("$"))return;l.call(t)}}))}}])&&d(n.prototype,r),l&&d(n,l),t}(l.default);t.default=b,h(b,"propTypes",o.RoutePropTypes)},638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),l=n(77),a=s(n(245)),o=n(32),u=n(22),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(125)),i=n(41);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n;y(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=b(this,(e=E(t)).call.apply(e,[this].concat(a))),(0,l.clearStore)(),n}var n,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(i=[{key:"getStaticLocation",value:function(){var e=this.props.location,t=e;(0,u.isString)(e)&&(t=(0,c.default)(e));var n=t,r=n.search,l=void 0===r?"":r,a=n.hash,o=void 0===a?"":a,i=n.pathname,f=void 0===i?"":i;return{search:l,hash:o,pathname:(0,c.normalizePath)(f),replace:u.noop}}},{key:"render",value:function(){var e=this.props,t=(e.location,e.context),n=m(e,["location","context"]),l=this.getStaticLocation();return r.default.createElement(o.RouterContext.Provider,{value:{staticLocation:l,staticContext:t}},r.default.createElement(a.default,p({type:"browser"},n)))}}])&&h(n.prototype,i),f&&h(n,f),t}(r.default.Component);t.default=O,v(O,"propTypes",i.StaticRouterPropTypes),v(O,"defaultProps",{basename:"/",location:{},context:{}})},639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(1)),l=p(n(50)),a=n(246),o=n(41),u=d(n(56)),c=n(22),i=n(32),f=d(n(125));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}return n.default=e,t&&t.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){return E(this,t),v(this,O(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(a=[{key:"isActive",value:function(e){var t=this.props,n=t.isActive,r=t.to,l=t.path,a=(0,f.default)((0,f.restorePath)(r)).pathname,o=u.default.matchPath(e,l||a);return(0,c.isFunction)(n)?!1!==n(o,e,t):o}},{key:"getActiveProps",value:function(e){var t=this.props,n=t.className,r=t.style,l=t.activeClassName,a=t.activeStyle,o={className:n,style:r};return this.isActive(e)&&(o.className=[n,l].filter((function(e){return!!e})).join(" "),o.style=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{},r)),o}},{key:"render",value:function(){var e=this,t=this.props,n=t.to,a=(t.path,t.reload,t.data,t.replace,t.activeClassName,t.activeStyle,t.isActive,t.forwardRef),o=h(t,["to","path","reload","data","replace","activeClassName","activeStyle","isActive","forwardRef"]);return r.default.createElement(i.RouterContext.Consumer,null,(function(t){(0,l.default)(t,"不允许在 <Router> 外部使用 <NavLink>");var c=t.location;return r.default.createElement("a",y({href:(0,u.combinePath)(n)},o,e.getActiveProps(c),{onClick:e.onClick,ref:a}))}))}}])&&g(n.prototype,a),o&&g(n,o),t}(a.Link);P(w,"propTypes",o.NavLinkPropTypes),P(w,"defaultProps",{to:"",path:"",activeClassName:"active",data:null,replace:!1,reload:!1});var S=r.default.forwardRef((function(e,t){return r.default.createElement(w,y({},e,{forwardRef:t}))}));t.default=S},640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),l=i(n(50)),a=n(22),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(77)),u=n(32);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e,t,n){return g({},e,{},t,{},n)},j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=t[0],i=t[1],f=t[2],d=t[3],b=(0,a.isFunction)(i)?i:function(){},E=(0,a.isFunction)(f)?f:O;return function(e){var t,n;return n=t=function(t){function n(){var e,t;s(this,n);for(var u=arguments.length,i=new Array(u),f=0;f<u;f++)i[f]=arguments[f];(t=m(this,(e=y(n)).call.apply(e,[this].concat(i)))).mounted=!1;var p=t.context.nuomiProps;return(0,l.default)(!!p,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 ".concat(n.displayName)),(0,a.isObject)(d)&&!0===d.withRef&&(t.ref=r.default.createRef()),(0,a.isFunction)(c)&&(t.state=t.getState(),t.unSubcribe=o.default.subscribe((function(){t.mounted&&(0,o.getStore)(p.store.id)&&t.setState(t.getState())}))),t}return h(n,t),p(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.unSubcribe&&(this.mounted=!1,this.unSubcribe())}},{key:"getState",value:function(){var e=this.context.nuomiProps.store,t=c(e.getState(),o.default.getState());return(0,a.isObject)(t)?t:{}}},{key:"getWrappedInstance",value:function(){return this.ref?this.ref.current:null}},{key:"getProps",value:function(){var e=this.context.nuomiProps.store;return E(this.props,this.state,b(e.dispatch))||this.props}},{key:"render",value:function(){var t=this.context.nuomiProps.store,n=g({},this.getProps(),{ref:this.ref,dispatch:t.dispatch});return r.default.createElement(e,n)}}]),n}(r.default.PureComponent),v(t,"contextType",u.NuomiContext),v(t,"displayName","connect(...)(".concat(e.displayName||e.name,")")),n}};t.default=j},641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1)),l=o(n(50)),a=n(32);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n;return n=t=function(t){function n(){var e,t;i(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var u=(t=s(this,(e=d(n)).call.apply(e,[this].concat(a)))).context.nuomiProps;return(0,l.default)(!!u,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 ".concat(n.displayName)),t}var a,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),a=n,(o=[{key:"render",value:function(){var t=this.context.nuomiProps;return r.default.createElement(e,c({},this.props,{nuomiProps:t}))}}])&&f(a.prototype,o),u&&f(a,u),n}(r.default.PureComponent),m(t,"contextType",a.NuomiContext),m(t,"displayName","withNuomi(".concat(e.displayName||e.name,")")),n};t.default=y},642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useConnect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"useNuomi",{enumerable:!0,get:function(){return l.default}});var r=a(n(643)),l=a(n(645));function a(e){return e&&e.__esModule?e:{default:e}}},643:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(1),a=s(n(50)),o=n(32),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77)),c=n(22),i=s(n(644));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=function(e){var t=(0,l.useContext)(o.NuomiContext).nuomiProps;(0,a.default)(t,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 useConnect");var n=t.store,r=d((0,l.useReducer)((function(e){return e+1}),0),2)[1],f=(0,l.useRef)(),s=function(){if((0,u.getStore)(n.id))return(0,c.isFunction)(e)?e(n.getState(),u.default.getState()):n.getState()};return f.current||(f.current=s()),(0,i.default)((function(){var e=u.default.subscribe((function(){var e=s();(0,c.shallowEqual)(f.current,e)||(f.current=e,r({}))}));return function(){return e()}}),[]),[f.current,n.dispatch]};t.default=p},644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=n(1);var a=((r=n(105))&&r.__esModule?r:{default:r}).default.document?l.useLayoutEffect:l.useEffect;t.default=a},645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=n(50))&&r.__esModule?r:{default:r},a=n(1),o=n(32);var u=function(){var e=(0,a.useContext)(o.NuomiContext).nuomiProps;return(0,l.default)(e,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 useNuomi"),{nuomiProps:e}};t.default=u},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.initialiseState=t.clearStore=t.setStore=t.getStore=t.INITIALISE_STATE=void 0;var r=n(172),l=u(n(62)),a=u(n(629)),o=n(22);u(n(105));function u(e){return e&&e.__esModule?e:{default:e}}var c={};t.initialiseState=c;var i={},f=[],s=!1,d=r.compose,p=(0,r.createStore)(o.noop,d((0,a.default)((function(){return f}),(function(){return s=!0})))),m=function(e){return i[e]};t.getStore=m;t.setStore=function(e,t){i[e]?t||delete i[e]:i[e]=t};t.clearStore=function(){i={},p.replaceReducer(o.noop)},p.getStore=m,p.applyMiddleware=function(){if(s)(0,l.default)(!1,"dispatch已经被使用，不能添加中间件，请确保添加中间件操作发生在dispatch之前");else{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f=f.concat(t.filter((function(e){return(0,o.isFunction)(e)})))}},p.createState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.isObject)(e)&&Object.keys(e).forEach((function(t){i[t]||(c[t]=e[t])}))};t.INITIALISE_STATE="__NUOMI_INITIALISE_STATE__";var y=p;t.default=y},876:function(e,t,n){var r={"./af":257,"./af.js":257,"./ar":258,"./ar-dz":259,"./ar-dz.js":259,"./ar-kw":260,"./ar-kw.js":260,"./ar-ly":261,"./ar-ly.js":261,"./ar-ma":262,"./ar-ma.js":262,"./ar-sa":263,"./ar-sa.js":263,"./ar-tn":264,"./ar-tn.js":264,"./ar.js":258,"./az":265,"./az.js":265,"./be":266,"./be.js":266,"./bg":267,"./bg.js":267,"./bm":268,"./bm.js":268,"./bn":269,"./bn.js":269,"./bo":270,"./bo.js":270,"./br":271,"./br.js":271,"./bs":272,"./bs.js":272,"./ca":273,"./ca.js":273,"./cs":274,"./cs.js":274,"./cv":275,"./cv.js":275,"./cy":276,"./cy.js":276,"./da":277,"./da.js":277,"./de":278,"./de-at":279,"./de-at.js":279,"./de-ch":280,"./de-ch.js":280,"./de.js":278,"./dv":281,"./dv.js":281,"./el":282,"./el.js":282,"./en-SG":283,"./en-SG.js":283,"./en-au":284,"./en-au.js":284,"./en-ca":285,"./en-ca.js":285,"./en-gb":286,"./en-gb.js":286,"./en-ie":287,"./en-ie.js":287,"./en-il":288,"./en-il.js":288,"./en-nz":289,"./en-nz.js":289,"./eo":290,"./eo.js":290,"./es":291,"./es-do":292,"./es-do.js":292,"./es-us":293,"./es-us.js":293,"./es.js":291,"./et":294,"./et.js":294,"./eu":295,"./eu.js":295,"./fa":296,"./fa.js":296,"./fi":297,"./fi.js":297,"./fo":298,"./fo.js":298,"./fr":299,"./fr-ca":300,"./fr-ca.js":300,"./fr-ch":301,"./fr-ch.js":301,"./fr.js":299,"./fy":302,"./fy.js":302,"./ga":303,"./ga.js":303,"./gd":304,"./gd.js":304,"./gl":305,"./gl.js":305,"./gom-latn":306,"./gom-latn.js":306,"./gu":307,"./gu.js":307,"./he":308,"./he.js":308,"./hi":309,"./hi.js":309,"./hr":310,"./hr.js":310,"./hu":311,"./hu.js":311,"./hy-am":312,"./hy-am.js":312,"./id":313,"./id.js":313,"./is":314,"./is.js":314,"./it":315,"./it-ch":316,"./it-ch.js":316,"./it.js":315,"./ja":317,"./ja.js":317,"./jv":318,"./jv.js":318,"./ka":319,"./ka.js":319,"./kk":320,"./kk.js":320,"./km":321,"./km.js":321,"./kn":322,"./kn.js":322,"./ko":323,"./ko.js":323,"./ku":324,"./ku.js":324,"./ky":325,"./ky.js":325,"./lb":326,"./lb.js":326,"./lo":327,"./lo.js":327,"./lt":328,"./lt.js":328,"./lv":329,"./lv.js":329,"./me":330,"./me.js":330,"./mi":331,"./mi.js":331,"./mk":332,"./mk.js":332,"./ml":333,"./ml.js":333,"./mn":334,"./mn.js":334,"./mr":335,"./mr.js":335,"./ms":336,"./ms-my":337,"./ms-my.js":337,"./ms.js":336,"./mt":338,"./mt.js":338,"./my":339,"./my.js":339,"./nb":340,"./nb.js":340,"./ne":341,"./ne.js":341,"./nl":342,"./nl-be":343,"./nl-be.js":343,"./nl.js":342,"./nn":344,"./nn.js":344,"./pa-in":345,"./pa-in.js":345,"./pl":346,"./pl.js":346,"./pt":347,"./pt-br":348,"./pt-br.js":348,"./pt.js":347,"./ro":349,"./ro.js":349,"./ru":350,"./ru.js":350,"./sd":351,"./sd.js":351,"./se":352,"./se.js":352,"./si":353,"./si.js":353,"./sk":354,"./sk.js":354,"./sl":355,"./sl.js":355,"./sq":356,"./sq.js":356,"./sr":357,"./sr-cyrl":358,"./sr-cyrl.js":358,"./sr.js":357,"./ss":359,"./ss.js":359,"./sv":360,"./sv.js":360,"./sw":361,"./sw.js":361,"./ta":362,"./ta.js":362,"./te":363,"./te.js":363,"./tet":364,"./tet.js":364,"./tg":365,"./tg.js":365,"./th":366,"./th.js":366,"./tl-ph":367,"./tl-ph.js":367,"./tlh":368,"./tlh.js":368,"./tr":369,"./tr.js":369,"./tzl":370,"./tzl.js":370,"./tzm":371,"./tzm-latn":372,"./tzm-latn.js":372,"./tzm.js":371,"./ug-cn":373,"./ug-cn.js":373,"./uk":374,"./uk.js":374,"./ur":375,"./ur.js":375,"./uz":376,"./uz-latn":377,"./uz-latn.js":377,"./uz.js":376,"./vi":378,"./vi.js":378,"./x-pseudo":379,"./x-pseudo.js":379,"./yo":380,"./yo.js":380,"./zh-cn":381,"./zh-cn.js":381,"./zh-hk":382,"./zh-hk.js":382,"./zh-tw":383,"./zh-tw.js":383};function l(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}l.keys=function(){return Object.keys(r)},l.resolve=a,e.exports=l,l.id=876}},[[443,1,2]]]);