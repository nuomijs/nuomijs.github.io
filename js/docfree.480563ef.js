(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(626);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var l=n(631);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var a=n(644);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},104:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(26),l="undefined"!=typeof window&&void 0!==window.document?window:{Proxy:e.Proxy,addEventListener:r.noop,removeEventListener:r.noop,history:{pushState:r.noop,replaceState:r.noop}};t.default=l}).call(this,n(90))},1119:function(e,t,n){"use strict";var r,l=n(1),a=(r=l)&&r.__esModule?r:{default:r};e.exports=a.default.createElement(a.default.Fragment,null,"Powered by ",a.default.createElement("a",{href:"https://github.com/yinjiazeng/docfree",target:"_blank"},"Docfree"),a.default.createElement("span",null," | "),"MIT Licensed",a.default.createElement("span",null," | "),"Copyright © 2019-present")},1120:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement(u.Home,{title:"NuomiJS",description:o.default.createElement("div",null,"React + Redux + Router",o.default.createElement("span",{style:{whiteSpace:"nowrap"}},"最佳实践")),buttons:[{type:"primary",text:"快速上手 →",to:"/guide/quick-start"},{text:"GITHUB",to:"https://github.com/nuomijs/nuomi"}],features:[{title:"易用",detail:"不依赖任何中间件，通过原生 async await 即可实现异步状态管理。"},{title:"简便",detail:"状态操作简单方便，自动 loading 处理简化流程提升开发体验。"},{title:"高效",detail:"内置路由系统功能齐全，与 redux 完美结合提升单页开发效率。"}]}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"哪些公司在用？"},"#"),o.default.createElement("span",null,"哪些公司在用？")),o.default.createElement("div",{className:"logos"},o.default.createElement("a",{href:"https://www.jss.com.cn/",target:"_blank"},o.default.createElement("img",{src:"/imgs/logos/nuonuo.png",alt:"诺诺网"})),o.default.createElement("a",{href:"http://www.wankeauto.com/",target:"_blank"},o.default.createElement("img",{src:"/imgs/logos/wanke.png",alt:"万克能源"}))))}p.isMDXComponent=!0;var m={state:{showCode:!1,setting:{depth:0,pageDepth:0,pageExtra:!1,title:"Nuomijs"},headings:[{text:"哪些公司在用？",depth:2,level:1}],showSidebar:!1,showPageSidebar:!1,sidebarMenus:[],pageSidebarMenus:[],utime:1644479868757.9507},render:function(){return o.default.createElement(p,{pageExtra:!1})}};m.state.title="Nuomijs",t.default=m},1121:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"组件"},"#"),o.default.createElement("span",null,"组件")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Nuomi"},"#"),o.default.createElement("span",null,"Nuomi")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"id"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"store id，不设置会动态创建")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"load"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"异步加载props")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"state"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"初始状态")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reducer"),o.default.createElement("td",{align:null},"{ @update/@replace }"),o.default.createElement("td",{align:null},"更新状态")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"action"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"通过async await异步更新状态，函数名使用$前缀会自动生成loading状态，函数第一个参数为store，第二个参数为payload")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"render"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"渲染组件")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onInit"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"组件被创建后回调，此时内部store已经被创建，可以通过参数this.store访问，也可以通过this.")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Ruoter"},"#"),o.default.createElement("span",null,"Ruoter")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"type"),o.default.createElement("td",{align:null},"'hash' or 'browser'"),o.default.createElement("td",{align:null},"路由类型，默认是hash")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"basename"),o.default.createElement("td",{align:null},"'/'"),o.default.createElement("td",{align:null},"通用路径")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"StaticRuoter"},"#"),o.default.createElement("span",null,"StaticRuoter")),o.default.createElement("p",null,"用于服务器渲染"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"location"),o.default.createElement("td",{align:null},"'/'"),o.default.createElement("td",{align:null},"服务器端获取的url，可以传入对象，包含pathname、search、params")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"basename"),o.default.createElement("td",{align:null},"'/'"),o.default.createElement("td",{align:null},"通用路径")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"context"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"可以通过context.url获取Redirect组件第一次重定向的url")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"NuomiRoute"},"#"),o.default.createElement("span",null,"NuomiRoute")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"name"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由名称")))),o.default.createElement("p",null,"其他参数同Nuomi组件"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Route"},"#"),o.default.createElement("span",null,"Route")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由path，支持动态参数")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"name"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由名称")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"cache"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"是否给留有创建一个div容器，可实现缓存功能")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"匹配路由后是否重置状态，值为null则不法刷新")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onEnter"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"路由匹配后，在reducer被创建之前回调，返回false将无法展示内容，参数为强制展示回调，调用后可以展示内容")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onShow"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"路由匹配时回调，支持函数和对象")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onActivte"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"路由匹配时回调，支持函数和对象")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"onLeave"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"路由离开时回调，用于决定是否可以离开")))),o.default.createElement("p",null,"其他参数同Nuomi组件，\n回调的执行顺序是 onEnter > location.data > onChange > onInit，location.data下面路由跳转时会讲到"),o.default.createElement("br",null),o.default.createElement("b",null,"注意：path和cache不能异步加载"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Redirect"},"#"),o.default.createElement("span",null,"Redirect")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"from"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"匹配当前路由path，会重定向至to设置的path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"to"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"重定向路由path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转后是否重置状态")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"ShapeRoute"},"#"),o.default.createElement("span",null,"ShapeRoute")),o.default.createElement("p",null,"可视化设置路由"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"routes"),o.default.createElement("td",{align:null},"array"),o.default.createElement("td",{align:null},"由Route/NuomiRoute/Redirect props组成的数组集合，子路由设置在children属性上，支持组件和数组")))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"// 子路由path不用把祖先path加上\nconst routes = [{\n  path: '/',\n  children: [{\n    path: '/home',\n    children: [{\n      path: '/list',\n    }]\n  }]\n}];\n<Router type=\"hash\">\n  <ShapeRoute routes={routes} />\n</Router>\n")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Link"},"#"),o.default.createElement("span",null,"Link")),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"to"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"目标path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"replace"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转是否替换当前history")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转后是否重置状态")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"NavLink"},"#"),o.default.createElement("span",null,"NavLink")),o.default.createElement("p",null,"可以匹配path的Link"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"props"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"匹配path")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"activeClassName"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"匹配className")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"activeStyle"),o.default.createElement("td",{align:null},"null"),o.default.createElement("td",{align:null},"匹配样式")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"isActice"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"自定义匹配，返回boolean，第一个参数是匹配结果，第二个参数是当前location对象")))),o.default.createElement("p",null,"其他参数参考Link"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"connect"},"#"),o.default.createElement("span",null,"connect")),o.default.createElement("p",null,"用法同react-redux connect，区别是获取状态的函数，第一个参数是获取当前模块的状态，第二个参数是获取全部store里的状态"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"withNuomi"},"#"),o.default.createElement("span",null,"withNuomi")),o.default.createElement("p",null,"使用后组件中提供nuomi对象，nuomi对象包含store/location/parent等属性方法"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const List = ({ nuomi }) => {\n  // do something\n}\n\nwithNuomi(List);\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"Hooks"},"#"),o.default.createElement("span",null,"Hooks")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"useConnect"},"#"),o.default.createElement("span",null,"useConnect")),o.default.createElement("p",null,"高阶组件connect的替代方法"),o.default.createElement("p",null,"方法返回一个数组，第一个值是状态，第二个值为dispatch，不传参数默认返回当前模块所有状态，接收一个回调函数参数时，用法等同connect第一个参数"),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"useNuomi"},"#"),o.default.createElement("span",null,"useNuomi")),o.default.createElement("p",null,"高阶组件withNuomi的替代方法"),o.default.createElement("p",null,"方法返回一个对象"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"对象"},"#"),o.default.createElement("span",null,"对象")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router"},"#"),o.default.createElement("span",null,"router")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.location"},"#"),o.default.createElement("span",null,"router.location")),o.default.createElement("p",null,"获取路由数据"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.push"},"#"),o.default.createElement("span",null,"router.push")),o.default.createElement("p",null,"路由跳转"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"跳转的路由地址")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"reload"),o.default.createElement("td",{align:null},"false"),o.default.createElement("td",{align:null},"跳转后是否重置状态")))),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.replace"},"#"),o.default.createElement("span",null,"router.replace")),o.default.createElement("p",null,"路由跳转，在history中替换当前地址，参数等同router.push"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.listener"},"#"),o.default.createElement("span",null,"router.listener")),o.default.createElement("p",null,"监听路由变化"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"callback"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"接受参数为location，可以获取当前匹配的路由数据")))),o.default.createElement("p",null,"返回取消监听方法"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.reload"},"#"),o.default.createElement("span",null,"router.reload")),o.default.createElement("p",null,"路由刷新"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.back"},"#"),o.default.createElement("span",null,"router.back")),o.default.createElement("p",null,"后退"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.forward"},"#"),o.default.createElement("span",null,"router.forward")),o.default.createElement("p",null,"前进"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.matchPath"},"#"),o.default.createElement("span",null,"router.matchPath")),o.default.createElement("p",null,"用于匹配路由"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"location"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"路由location对象")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path"),o.default.createElement("td",{align:null},"''"),o.default.createElement("td",{align:null},"路由设置的path")))),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.mergePath"},"#"),o.default.createElement("span",null,"router.mergePath")),o.default.createElement("p",null,"合并path"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"path1, path2, ..."),o.default.createElement("td",{align:null},"string"),o.default.createElement("td",{align:null},"路由path")))),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"router.block"},"#"),o.default.createElement("span",null,"router.block")),o.default.createElement("p",null,"定义阻塞路由，接收一个回调函数作为参数，回调函数包含下面参数，返回false则不能跳转"),o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,o.default.createElement("th",{align:null},"参数"),o.default.createElement("th",{align:null},"value"),o.default.createElement("th",{align:null},"介绍"))),o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{align:null},"from"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"当前location")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"to"),o.default.createElement("td",{align:null},"{}"),o.default.createElement("td",{align:null},"目标location")),o.default.createElement("tr",null,o.default.createElement("td",{align:null},"enter"),o.default.createElement("td",{align:null},"function"),o.default.createElement("td",{align:null},"确认跳转函数，在异步中使用")))),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store"},"#"),o.default.createElement("span",null,"store")),o.default.createElement("p",null,"请参考 ",o.default.createElement("a",{href:"https://cn.redux.js.org/docs/basics/Store.html",target:"_blank"},"redux store"),"\n原生方法建议只使用getState和dispatch，除此之外额外新增了getStore和applyMiddleware方法"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.getState"},"#"),o.default.createElement("span",null,"store.getState")),o.default.createElement("p",null,"获取所有状态"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.dispatch"},"#"),o.default.createElement("span",null,"store.dispatch")),o.default.createElement("p",null,"更新状态，只能触发reducer中的方法，如果想调用action方法，请使用store.getStore替代"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.getStore"},"#"),o.default.createElement("span",null,"store.getStore")),o.default.createElement("p",null,"获取nuomi组件的store，参数是store id，返回对象包含getState和dispatch"),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.applyMiddleware"},"#"),o.default.createElement("span",null,"store.applyMiddleware")),o.default.createElement("p",null,"添加中间件"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"store.applyMiddleware(thunk, logger, ...)\n")),o.default.createElement("h4",null,o.default.createElement(u.AnchorLinkEnhance,{to:"store.createState"},"#"),o.default.createElement("span",null,"store.createState")),o.default.createElement("p",null,"初始化状态，只能对 ",o.default.createElement("code",{className:"inline"},"nuomiPorps")," 中设置了 ",o.default.createElement("code",{className:"inline"},"id")," 属性的模块初始化"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"其他"},"#"),o.default.createElement("span",null,"其他")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"configure"},"#"),o.default.createElement("span",null,"configure")),o.default.createElement("p",null,"设置默认props，设置后会覆盖默认值，不传参则返回默认props"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"configure({\n    state: {\n        dataSource: [],\n    },\n    reducer: {\n        updateState: (state, payload) => ({ ...state, ...payload }),\n    },\n});\n")),o.default.createElement("h3",null,o.default.createElement(u.AnchorLinkEnhance,{to:"INITIALISE_STATE"},"#"),o.default.createElement("span",null,"INITIALISE_STATE")),o.default.createElement("p",null,"服务端渲染时用于给window对象添加初始化状态属性"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { createServer } from 'http';\nimport { renderToString } from 'react-dom/server';\nimport { INITIALISE_STATE } from 'nuomi';\n\ncreateServer((req, res) => {\n  const html = renderToString(<App />);\n  const state = { global: {} };\n\n  res.setHeader('Content-Type','text/html');\n  res.end(`\n    <html>\n      <body>\n        <div id=\"root\">${html}</div>\n        <script>window.${INITIALISE_STATE}=${JSON.stringify(state)}<\/script>\n      </body>\n    </html>\n  `);\n});\n")))}p.isMDXComponent=!0;var m={state:{showCode:!1,setting:{title:"API"},headings:[{text:"组件",depth:2,level:1},{text:"Nuomi",depth:3,level:2},{text:"Ruoter",depth:3,level:2},{text:"StaticRuoter",depth:3,level:2},{text:"NuomiRoute",depth:3,level:2},{text:"Route",depth:3,level:2},{text:"Redirect",depth:3,level:2},{text:"ShapeRoute",depth:3,level:2},{text:"Link",depth:3,level:2},{text:"NavLink",depth:3,level:2},{text:"connect",depth:3,level:2},{text:"withNuomi",depth:3,level:2},{text:"Hooks",depth:2,level:1},{text:"useConnect",depth:3,level:2},{text:"useNuomi",depth:3,level:2},{text:"对象",depth:2,level:1},{text:"router",depth:3,level:2},{text:"router.location",depth:4,level:3},{text:"router.push",depth:4,level:3},{text:"router.replace",depth:4,level:3},{text:"router.listener",depth:4,level:3},{text:"router.reload",depth:4,level:3},{text:"router.back",depth:4,level:3},{text:"router.forward",depth:4,level:3},{text:"router.matchPath",depth:4,level:3},{text:"router.mergePath",depth:4,level:3},{text:"router.block",depth:4,level:3},{text:"store",depth:3,level:2},{text:"store.getState",depth:4,level:3},{text:"store.dispatch",depth:4,level:3},{text:"store.getStore",depth:4,level:3},{text:"store.applyMiddleware",depth:4,level:3},{text:"store.createState",depth:4,level:3},{text:"其他",depth:2,level:1},{text:"configure",depth:3,level:2},{text:"INITIALISE_STATE",depth:3,level:2}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"组件",depth:2,level:1},{text:"Nuomi",depth:3,level:2},{text:"Ruoter",depth:3,level:2},{text:"StaticRuoter",depth:3,level:2},{text:"NuomiRoute",depth:3,level:2},{text:"Route",depth:3,level:2},{text:"Redirect",depth:3,level:2},{text:"ShapeRoute",depth:3,level:2},{text:"Link",depth:3,level:2},{text:"NavLink",depth:3,level:2},{text:"connect",depth:3,level:2},{text:"withNuomi",depth:3,level:2},{text:"Hooks",depth:2,level:1},{text:"useConnect",depth:3,level:2},{text:"useNuomi",depth:3,level:2},{text:"对象",depth:2,level:1},{text:"router",depth:3,level:2},{text:"store",depth:3,level:2},{text:"其他",depth:2,level:1},{text:"configure",depth:3,level:2},{text:"INITIALISE_STATE",depth:3,level:2}],pageSidebarMenus:[{level:1,text:"router.location"},{level:1,text:"router.push"},{level:1,text:"router.replace"},{level:1,text:"router.listener"},{level:1,text:"router.reload"},{level:1,text:"router.back"},{level:1,text:"router.forward"},{level:1,text:"router.matchPath"},{level:1,text:"router.mergePath"},{level:1,text:"router.block"},{level:1,text:"store.getState"},{level:1,text:"store.dispatch"},{level:1,text:"store.getStore"},{level:1,text:"store.applyMiddleware"},{level:1,text:"store.createState"}],utime:1687597327195.643},render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})}};m.state.title="API",t.default=m},1122:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("p",null,"  ",o.default.createElement("code",{className:"inline"},"nuomi")," 是基于 ",o.default.createElement("a",{href:"https://reactjs.org/",target:"_blank"},"react")," 和 ",o.default.createElement("a",{href:"https://redux.js.org/",target:"_blank"},"redux")," 开发的一套数据流解决方案，\n也可以看成轻量级业务框架，它可以规范和简化使用",o.default.createElement("code",{className:"inline"},"redux")," 进行状态管理的开发流程，与 ",o.default.createElement("code",{className:"inline"},"路由")," 完美结合可以更高效开发单页应用。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"特性"},"#"),o.default.createElement("span",null,"特性")),o.default.createElement("ul",null,o.default.createElement("li",null,"不依赖任何中间件，通过原生 ",o.default.createElement("code",{className:"inline"},"async await")," 即可实现异步状态管理。"),o.default.createElement("li",null,"状态操作简单高效，自动 ",o.default.createElement("code",{className:"inline"},"loading")," 处理简化流程提升开发体验。"),o.default.createElement("li",null,"内置 ",o.default.createElement("code",{className:"inline"},"路由")," 系统功能齐全，与 ",o.default.createElement("code",{className:"inline"},"redux")," 完美结合提升单页开发效率。")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"兼容性"},"#"),o.default.createElement("span",null,"兼容性")),o.default.createElement("p",null,"支持所有的现代浏览器和 IE9+，React 16.8+。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"它能做什么？"},"#"),o.default.createElement("span",null,"它能做什么？")),o.default.createElement("p",null,"理论上可以开发任何类型的单页应用，支持服务端渲染，支持react-native。"))}p.isMDXComponent=!0;var m={state:{showCode:!1,setting:{title:"介绍"},headings:[{text:"特性",depth:2,level:1},{text:"兼容性",depth:2,level:1},{text:"它能做什么？",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"特性",depth:2,level:1},{text:"兼容性",depth:2,level:1},{text:"它能做什么？",depth:2,level:1}],pageSidebarMenus:[],utime:1587105999133.3252},render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})}};m.state.title="介绍",t.default=m},1123:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"官方"},"#"),o.default.createElement("span",null,"官方")),o.default.createElement("a",{href:"https://github.com/nuomijs/nuomi-admin",target:"_blank"},"nuomi-admin"))}p.isMDXComponent=!0;var m={state:{showCode:!1,setting:{title:"例子"},headings:[{text:"官方",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"官方",depth:2,level:1}],pageSidebarMenus:[],utime:1587106062423.0205},render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})}};m.state.title="例子",t.default=m},1124:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l,a=n(1),o=(l=a)&&l.__esModule?l:{default:l},u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=u.Content;function p(e){var t=e.components,n=f(e,["components"]);return o.default.createElement(d,i({},s,n,{components:t}),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"状态隔离"},"#"),o.default.createElement("span",null,"状态隔离")),o.default.createElement("p",null,"框架为每个 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 模块内部创建一个 ",o.default.createElement("code",{className:"inline"},"store")," 对象，包含了 ",o.default.createElement("code",{className:"inline"},"getState")," 和 ",o.default.createElement("code",{className:"inline"},"dispatch"),"等\n方法用于操作模块内的状态。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  onInit({ store }) {\n    store.dispatch(...);\n  }\n}\n")),o.default.createElement("p",null,"使用过 ",o.default.createElement("code",{className:"inline"},"redux")," 的同学应该知道，可以通过 ",o.default.createElement("code",{className:"inline"},"combineReducers"),"\n组合多个 ",o.default.createElement("code",{className:"inline"},"reducer"),"，然后给他们设置唯一的 ",o.default.createElement("code",{className:"inline"},"key"),"，访问状态时都需要依赖这个 ",o.default.createElement("code",{className:"inline"},"key"),"。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const home = () => {...};\nconst list = () => {...};\n...\n\ncreateStore(combineReducers({ home, list, ... }););\n...\n\nconst App = ({ home, list }) => {\n  // do something\n};\n\nconnect(state => state)(App);\n")),o.default.createElement("p",null,"可以在 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 中通过 ",o.default.createElement("code",{className:"inline"},"id")," 属性为 ",o.default.createElement("code",{className:"inline"},"store")," 设置唯一标识，",o.default.createElement("code",{className:"inline"},"id")," 其实就是这个 ",o.default.createElement("code",{className:"inline"},"key"),"\n，只不过在不声明的情况下会动态创建。如果模块之间是没有任何联系，没必要给他们设置标识，因为操作状态不需要依赖\n",o.default.createElement("code",{className:"inline"},"id")," 。当需要与其他模块通信时，为了方便，那就需要为其设置 ",o.default.createElement("code",{className:"inline"},"id")," 了。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  id: 'global'\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"状态操作"},"#"),o.default.createElement("span",null,"状态操作")),o.default.createElement("p",null,"在组件中可以通过 ",o.default.createElement("code",{className:"inline"},"useConnect")," 或者 ",o.default.createElement("code",{className:"inline"},"connect")," 高阶组件让组件与 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 建立关联来获取状态，通过\n",o.default.createElement("code",{className:"inline"},"dispatch")," 可以调用 ",o.default.createElement("code",{className:"inline"},"action")," 和 ",o.default.createElement("code",{className:"inline"},"reducer")," 中的方法更新状态。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  state: {\n    state1,\n    state2,\n    ...\n  }\n}\n")),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"useConnect"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { useConnect } from 'nuomi';\n\nconst List = () => {\n  const [{ state1, state2 }, dispatch] = useConnect();\n  dispatch('save', {});\n}\n")),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"connect"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { connect } from 'nuomi';\n\nconst List = ({ state1, state2, dispatch }) => {\n  dispatch('delete', {});\n}\n\nexport default connect(state => state)(List);\n")),o.default.createElement("p",null,"可以通过全局 ",o.default.createElement("code",{className:"inline"},"store")," 操作所有模块状态，该对象就是通过 ",o.default.createElement("code",{className:"inline"},"redux")," 中的 ",o.default.createElement("code",{className:"inline"},"createStore"),"\n创建的，只能调用 ",o.default.createElement("code",{className:"inline"},"reducer"),"，无法操作 ",o.default.createElement("code",{className:"inline"},"action")," ，使用时需要与 ",o.default.createElement("code",{className:"inline"},"id")," 组合。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { store } from 'nuomi';\n\nstore.getState();\n\nstore.dispatch({\n  type: 'global/@update',\n  payload,\n});\n\n...\n")),o.default.createElement("p",null,"大多数情况下不会使用全局 ",o.default.createElement("code",{className:"inline"},"store")," 去操作状态。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"异步操作"},"#"),o.default.createElement("span",null,"异步操作")),o.default.createElement("p",null,"异步操作是指异步更新状态，定义在 ",o.default.createElement("code",{className:"inline"},"action")," 对象中，主要用于业务逻辑的处理，使用\n",o.default.createElement("code",{className:"inline"},"async await")," 语法糖。组件中调用 ",o.default.createElement("code",{className:"inline"},"dispatch")," 访问 ",o.default.createElement("code",{className:"inline"},"action")," 中定义的方法，异步结束后再调用\n",o.default.createElement("code",{className:"inline"},"reducer")," 中定义的方法来更新状态。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  async login({ getState }) {\n    const { username, password } = getState();\n    await services.login({ username, password });\n  },\n  async getData({ commit }, { id }) {\n    const { data } =  await services.getData({ id });\n    commit('@update', { data })\n  }\n}\n")),o.default.createElement("p",null,"异步方法也可以与其他方法组合使用，通过 ",o.default.createElement("code",{className:"inline"},"this")," 访问。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  async getData1 () {\n    await services.getData1();\n  },\n  async getData2 () {\n    return await services.getData2();\n  },\n  async getData() {\n    await this.getData1();\n    const data = await this.getData2();\n  }\n}\n")),o.default.createElement("blockquote",null,o.default.createElement("p",null,"不可以使用箭头函数定义，不然 this 访问不到其他方法！")),o.default.createElement("p",null,"方法可以不是异步的，可以把公共逻辑抽离出来。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  updateState({ commit }, payload) {\n    commit('@update', payload)\n  },\n  async getData1(store) {\n    const { data } = await services.getData1();\n    this.updateState(store, data);\n  },\n  async getData2(store) {\n    const { data } = await services.getData2();\n    this.updateState(store, data);\n  }\n}\n")),o.default.createElement("p",null,"给方法名添加 ",o.default.createElement("code",{className:"inline"},"$")," 前缀可以自动创建 ",o.default.createElement("code",{className:"inline"},"loading")," ，无需手动开关，在组件中通过 ",o.default.createElement("code",{className:"inline"},"$方法名")," 获取状态。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  async $login() {\n    await services.login();\n  }\n}\n")),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const Login = () => {\n  const [{ $login }] = useConnect();\n  return (\n    <Form>\n      ...\n      <Button>{$login ? '正在登录...' : '登录'}</Button>\n    </Form>\n  );\n};\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"跨模块通信"},"#"),o.default.createElement("span",null,"跨模块通信")),o.default.createElement("p",null,"应用中经常会出现多个模块通信问题，这时就需要给通信模块的 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 设置 ",o.default.createElement("code",{className:"inline"},"id")," 属性，",o.default.createElement("code",{className:"inline"},"dispatch")," 时通过 ",o.default.createElement("code",{className:"inline"},"id"),"\n与 ",o.default.createElement("code",{className:"inline"},"reducer")," 和 ",o.default.createElement("code",{className:"inline"},"action")," 进行组合，就可以访问它们。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"// A nuomiProps\n{\n  id: 'global',\n  action: {\n    async update() {\n      // do something\n    }\n  }\n}\n\n// B nuomiProps\n{\n  action() {\n    async remove({ dispatch }) {\n      dispatch('global/update', { ... })\n    }\n  }\n}\n\n// B 组件\n\nconst B = () => {\n  const [, dispatch] = useConnect();\n  const update = () => {\n    dispatch('global/update', {});\n  };\n  return <Button onClick={update}>更新</Button>;\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由匹配"},"#"),o.default.createElement("span",null,"路由匹配")),o.default.createElement("p",null,"路由通过 ",o.default.createElement("code",{className:"inline"},"path")," 属性值与 ",o.default.createElement("code",{className:"inline"},"url")," 地址进行匹配来渲染组件，需要按照一定的规范才可以有效匹配。"),o.default.createElement("p",null,"值非必须，当不传值时，默认匹配 ",o.default.createElement("code",{className:"inline"},"/"),"，开头和末尾有无 ",o.default.createElement("code",{className:"inline"},"/")," 都是一样的。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: api | /api | api/ | /api/\n\n/api         √\n/ap          ×\n/api/1       ×\n")),o.default.createElement("p",null,"动态参数以 ",o.default.createElement("code",{className:"inline"},"/:")," 开头，后面跟上参数名，参数名只能由 ",o.default.createElement("code",{className:"inline"},"数字字母下划线")," 构成。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api/:id\n\n/api         ×\n/api/1       √\n")),o.default.createElement("p",null,"可以通过 ",o.default.createElement("code",{className:"inline"},"?")," 匹配0次或者1次，跟在动态参数末尾会对整个参数进行匹配。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api/:id?\n\n/api         √\n/api/1       √\n\npath: /api？\n\n/ap          √\n/api         √\n/api/1       ×\n")),o.default.createElement("p",null,"可以通过 ",o.default.createElement("code",{className:"inline"},"*")," 进行模糊匹配。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api*\n\n/api         √\n/api/1       √\n/apixx       √\n/apixx/1     √\n/apt         ×\n\npath: /api/*\n\n/api         √\n/api/1       √\n/apixx       ×\n\npath: *\n\n匹配所有\n")),o.default.createElement("p",null,"可以使用正则符号匹配。"),o.default.createElement("pre",null,o.default.createElement("code",{},"path: /api/1[^\\\\d]+\n\n/api/11       ×\n/api/1        ×\n/api/1b       √\n")),o.default.createElement("p",null,"匹配成功的路由 ",o.default.createElement("code",{className:"inline"},"nuomiProps")," 会被添加 ",o.default.createElement("code",{className:"inline"},"location")," 对象，包含了路由相关的数据。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  url,        // 完整url\n  pathname,   // 不包含查询参数以及hash的url\n  search,     // 查询参数字符串\n  query,      // 查询参数对象\n  params,     // 动态参数对象\n  hash        // hash\n  state       // 临时状态\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由操作"},"#"),o.default.createElement("span",null,"路由操作")),o.default.createElement("p",null,"使用 ",o.default.createElement("code",{className:"inline"},"router")," 对象可以进行路由相关的操作，比如刷新、跳转、监听等。"),o.default.createElement("p",null,"路由刷新可以将当前路由所有状态进行重置，并且重新初始化，通过调用 ",o.default.createElement("code",{className:"inline"},"router.reload()")," 使用，你可以把它看成路由版的\n",o.default.createElement("code",{className:"inline"},"window.reload"),"，只不过浏览器不会刷新。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { router } from 'nuomi';\n\nconst App = () => {\n  return (\n    ...\n    <Button onClick={() => router.reload()}>刷新</Button>\n  );\n};\n")),o.default.createElement("p",null,"通过使用 ",o.default.createElement("code",{className:"inline"},"window.location")," 和 ",o.default.createElement("code",{className:"inline"},"location.replace"),"，可以控制浏览器的跳转，路由提供与之对等的方法\n",o.default.createElement("code",{className:"inline"},"router.push")," 与 ",o.default.createElement("code",{className:"inline"},"router.replace"),"，它们参数相同，只不过前者会记入历史，后者替换历史。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"import { router } from 'nuomi';\n\n{\n  action: {\n    $login() {\n      await services.login();\n      router.replace('/index');\n    }\n  }\n}\n")),o.default.createElement("p",null,"虽然也可以使用 ",o.default.createElement("code",{className:"inline"},"location.hash")," 或 ",o.default.createElement("code",{className:"inline"},"history.push"),"\n等原生方法控制路由跳转，但是不建议使用他们，不仅功能有限，可能还会出现一些问题，建议使用\n",o.default.createElement("code",{className:"inline"},"router")," 对象操作。"),o.default.createElement("p",null,"通过跳转，还可以为目标页面传递一些临时数据。试想一下有这么一个场景，只有从A页面点击特定的按钮到B页面时，B才会进行某些操作\n，当B刷新或者从A、C正常跳转到B时，B才正常显示。当然方法有很多，比如在url上添加参数，或者使用全局变量做标记，使用完后再移除\n，但是都需要做额外的处理。"),o.default.createElement("p",null,o.default.createElement("code",{className:"inline"},"router")," 跳转时可以传递临时数据，使用完数据会自动销毁。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"const A = () => {\n  const go = () => {\n    router.location({ pathname: '/b': state: { a: 1, b: 2 } });\n  };\n  return <Button onClick={go}></Button>\n}\n\n// B nuomiProps\n{\n  action: {\n    async getData() {\n      const { state } = router.location();\n      console.log(state); // { a: 1, b: 2 }\n    }\n  },\n  onInit({ location }) {\n    console.log(location.state); // { a: 1, b: 2 }\n  }\n}\n")),o.default.createElement("p",null,"路由中还提供了很多方法，具体可以查阅 ",o.default.createElement("a",{href:"/api/#router",target:"_blank"},"API"),"。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由缓存"},"#"),o.default.createElement("span",null,"路由缓存")),o.default.createElement("p",null,"默认情况下在路由跳转时，上一个路由的内容和状态会被销毁，使用路由缓存可以保留状态或者内容。通过给\n",o.default.createElement("code",{className:"inline"},"nuomiProps")," 增加 ",o.default.createElement("code",{className:"inline"},"cache")," 属性开启缓存功能。"),o.default.createElement("p",null,"当值设置为 ",o.default.createElement("code",{className:"inline"},"true")," 时，渲染内容外部会被包裹一层类名为 ",o.default.createElement("code",{className:"inline"},"nuomi-route-wrapper"),"\n的 ",o.default.createElement("code",{className:"inline"},"div")," 标签，离开此页面时该标签会被设置为 ",o.default.createElement("code",{className:"inline"},"display: none"),"，内容和状态都不会被销毁，返回时会被设置为\n",o.default.createElement("code",{className:"inline"},"display: block"),"，通过此功能很容易解决回到原页面保留滚动条位置的问题。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'<Route path="/list" cache />\n')),o.default.createElement("div",null,o.default.createElement("img",{src:"/imgs/cache.gif",alt:"路由缓存"})),o.default.createElement("p",null,"当值设置为 ",o.default.createElement("code",{className:"inline"},"state")," 时，离开页面会保留状态，但内容会被销毁，重新进入页面会展示之前状态的内容，但滚动条位置会丢失。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'<Route path="/list" cache="state" />\n')),o.default.createElement("p",null,"两者有利有弊，前者当页面数量特别庞大时，可能会有内存问题，使用时根据实际情况自己权衡。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由嵌套"},"#"),o.default.createElement("span",null,"路由嵌套")),o.default.createElement("p",null,"可以使用 ",o.default.createElement("code",{className:"inline"},"Route")," 与 ",o.default.createElement("code",{className:"inline"},"NuomiRoute")," 实现路由嵌套的功能，外层路由使用哪个都可以，后者功能会少一点。\n路由嵌套最常见的应用场景就是工作台页面，外层路由渲染框架，子路由渲染内容，有2种方式可以实现路由嵌套。"),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"集中式"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'// 外层路由渲染组件\nconst Layout = ({ children }) => {\n  return (\n    <Wrapper>\n      <Header />\n      <Content>{children}</Content>\n    </Wrapper>\n  );\n}\n\n// 外层路由nuomiProps\nconst layout = {\n  ...,\n  render() {\n    return <Layout>{this.children}</Layout>\n  },\n}\n\nconst App = () => {\n  return (\n    <Router>\n      <NuomiRoute path="/*" {...layout}>\n        <Route path="/" {...home} />\n        <Route path="/list" {...list} />\n      </NuomiRoute>\n    </Router>\n  );\n}\n')),o.default.createElement("p",null,"外层路由在 ",o.default.createElement("code",{className:"inline"},"render")," 方法中 通过 ",o.default.createElement("code",{className:"inline"},"this.children")," 获取子路由，然后在组件内进行渲染，如果不处理这一步，\n那么子路由不会被渲染。框架提供了 ",o.default.createElement("code",{className:"inline"},"ShapeRoute")," 组件处理这种方式更加方便。"),o.default.createElement("blockquote",null,o.default.createElement("p",null,"children 与 render 共存时，只渲染 render 中的组件。",o.default.createElement("br",null),"外层路由 ",o.default.createElement("code",{className:"inline"},"path")," 末尾必须以 ",o.default.createElement("code",{className:"inline"},"/*")," 结尾，不然子路由不会被匹配，具体可以参考",o.default.createElement("a",{href:"#路由匹配",target:"_blank"},"路由匹配"),"。")),o.default.createElement("p",null,o.default.createElement("strong",null,o.default.createElement("em",null,"分散式"))),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},'const Layout = () => {\n  return (\n    <Wrapper>\n      <Header />\n      <Content>\n        <Route path="/" {...home} />\n        <Route path="/list" {...list} />\n      </Content>\n    </Wrapper>\n  );\n}\n\nconst layout = {\n  ...,\n  render() {\n    return <Layout />\n  },\n}\n\nconst App = () => {\n  return (\n    <Router>\n      <Route path="/*" {...layout} />\n    </Router>\n  );\n}\n')),o.default.createElement("p",null,"可以根据自己的喜好选择任意方式构面单页。"),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"路由钩子"},"#"),o.default.createElement("span",null,"路由钩子")),o.default.createElement("p",null,"路由提供了一些钩子函数可以在路由变化时做一些操作。"),o.default.createElement("p",null,"有一些场景需要在路由进入或者离开时做一些提示，可以通过 ",o.default.createElement("code",{className:"inline"},"onEnter")," 和 ",o.default.createElement("code",{className:"inline"},"onLeave")," 来实现。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  onEnter() {\n    return window.confirm('是否要进入?');\n  },\n  onLeave() {\n    return window.confirm('是否要离开?');\n  }\n}\n")),o.default.createElement("p",null,"也可以通过自定义弹窗来实现阻塞。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  onEnter(enter) {\n    Modal.confirm({\n      content: '是否要进入?',\n      onOk: () => {\n        enter();\n      },\n    });\n    return false;\n  },\n  onLeave(leave) {\n    Modal.confirm({\n      content: '是否要离开?',\n      onOk: () => {\n        leave();\n      },\n    });\n    return false;\n  }\n}\n")),o.default.createElement("p",null,"通常路由被渲染后，需要调用接口对数据进行初始化，这个操作可以在组件生命周期函数内进行，比如 ",o.default.createElement("code",{className:"inline"},"useEffect"),"\n",o.default.createElement("code",{className:"inline"},"componentDidMount"),"等，但是在框架中使用这种方式会有一些问题，比如调用路由刷新 不会重新执行这些函数，所以路由提供了\n",o.default.createElement("code",{className:"inline"},"onInit")," 进行初始化操作，它不是路由独有的，",o.default.createElement("code",{className:"inline"},"Nuomi")," 和 ",o.default.createElement("code",{className:"inline"},"NuomiRoute")," 组件都有这个钩子，功能相同。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  action: {\n    async $getList() {\n      // do something\n    }\n  },\n  onInit({ store }) {\n    store.dispatch('$getList');\n  }\n}\n")),o.default.createElement("p",null,"如果设置了路由缓存，",o.default.createElement("code",{className:"inline"},"onInit")," 在组件生命周期内只会被执行一次，除非调用路由刷新\n，如果希望每次路由切换都执行，可以使用 ",o.default.createElement("code",{className:"inline"},"onShow")," 钩子。"),o.default.createElement("blockquote",null,o.default.createElement("p",null,"路由没有设置缓存功能，",o.default.createElement("code",{className:"inline"},"onInit")," 每次路由切换都会执行。")),o.default.createElement("p",null,o.default.createElement("code",{className:"inline"},"onShow")," 是每次路由切换都会执行"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  action: {\n    async $getList() {\n      // do something\n    }\n  },\n  onShow({ store }) {\n    store.dispatch('$getList');\n  }\n}\n")),o.default.createElement("p",null,"当路由设置了缓存，切换路由需要更新某一部分数据，可以使用 ",o.default.createElement("code",{className:"inline"},"onActivte")),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"{\n  action: {\n    async $initData() {\n      // do something\n    },\n    async $getList() {\n      // do something\n    }\n  },\n  onInit({ store }) {\n    store.dispatch('$initData');\n  },\n  onActivte({ store }) {\n    store.dispatch('$getList');\n  }\n}\n")),o.default.createElement("h2",null,o.default.createElement(u.AnchorLinkEnhance,{to:"按需加载"},"#"),o.default.createElement("span",null,"按需加载")),o.default.createElement("p",null,"单页应用是将所有模块打包到一个文件里，模块越多则文件越大，首次加载的速度也会越慢，有些模块可能永远不会被用户访问。\n",o.default.createElement("code",{className:"inline"},"nuomiProps")," 中可以使用 ",o.default.createElement("code",{className:"inline"},"load")," 方法来对模块进行按需加载。"),o.default.createElement("pre",null,o.default.createElement("code",{className:"language-js"},"// home.js\nexport default {\n  state: {...},\n  action: {...},\n  ...\n}\n\n// App.jsx\nconst App = () => {\n  return (\n    <Router>\n      <Route path=\"/\" load={() => import('./home')} />\n      <Route path=\"/list\" load={() => import('./list')} />\n    </Router>\n  );\n};\n")))}p.isMDXComponent=!0;var m={state:{showCode:!1,setting:{title:"功能速查"},headings:[{text:"状态隔离",depth:2,level:1},{text:"状态操作",depth:2,level:1},{text:"异步操作",depth:2,level:1},{text:"跨模块通信",depth:2,level:1},{text:"路由匹配",depth:2,level:1},{text:"路由操作",depth:2,level:1},{text:"路由缓存",depth:2,level:1},{text:"路由嵌套",depth:2,level:1},{text:"路由钩子",depth:2,level:1},{text:"按需加载",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"状态隔离",depth:2,level:1},{text:"状态操作",depth:2,level:1},{text:"异步操作",depth:2,level:1},{text:"跨模块通信",depth:2,level:1},{text:"路由匹配",depth:2,level:1},{text:"路由操作",depth:2,level:1},{text:"路由缓存",depth:2,level:1},{text:"路由嵌套",depth:2,level:1},{text:"路由钩子",depth:2,level:1},{text:"按需加载",depth:2,level:1}],pageSidebarMenus:[],utime:1687597327196.6416},render:function(){return o.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})}};m.state.title="功能速查",t.default=m},1125:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.MDXContent=p;var l=c(n(1)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(77)),o=c(n(1126));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s={},d=a.Content;function p(e){var t=e.components,n=f(e,["components"]);return l.default.createElement(d,i({},s,n,{components:t}),l.default.createElement("p",null,"  在此之前你需要安装 ",l.default.createElement("a",{href:"https://nodejs.org",target:"_blank"},"nodejs")," ，包管理工具使用的是 ",l.default.createElement("a",{href:"https://www.yarnpkg.com/lang/en/",target:"_blank"},"yarn")," ，你也可以使用 ",l.default.createElement("a",{href:"https://www.npmjs.com/",target:"_blank"},"npm")," 来安装包。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"安装脚手架"},"#"),l.default.createElement("span",null,"安装脚手架")),l.default.createElement("p",null,"初始化项目用的是 ",l.default.createElement("a",{href:"https://create-react-app.dev/",target:"_blank"},"create-react-app"),"，你也可以使用自己喜欢的脚手架。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn global add create-react-app\n")),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"创建应用"},"#"),l.default.createElement("span",null,"创建应用")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"create-react-app new-project\ncd new-project\nyarn eject\n")),l.default.createElement("p",null,"通过 ",l.default.createElement("code",{className:"inline"},"eject")," 释放配置文件方便修改。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"安装依赖包"},"#"),l.default.createElement("span",null,"安装依赖包")),l.default.createElement("p",null,"安装框架 ",l.default.createElement("code",{className:"inline"},"nuomi")," 和组件库 ",l.default.createElement("a",{href:"https://ant.design/index-cn",target:"_blank"},"antd"),"。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn add nuomi antd\n")),l.default.createElement("p",null,"安装 ",l.default.createElement("code",{className:"inline"},"babel-plugin-import")," 插件用来按需加载 ",l.default.createElement("code",{className:"inline"},"antd")," 的脚本和样式，具体详见",l.default.createElement("a",{href:"https://ant.design/docs/react/introduce-cn#示例",target:"_blank"},"官网"),"。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn add babel-plugin-import --dev\n")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"package.json")," 使插件生效。"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},'"babel": {\n  "presets": [\n    "react-app"\n  ],\n+ "plugins": [\n+   [\n+     "import",\n+     {\n+       "libraryName": "antd",\n+       "style": "css"\n+     }\n+   ]\n+ ]\n}\n')),l.default.createElement("p",null,"让项目运行起来"),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-sh"},"yarn start\n")),l.default.createElement("p",null,"接下来使用框架开发一个应用，需求是展示一个列表，有删除功能。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"编写nuomiProps"},"#"),l.default.createElement("span",null,"编写nuomiProps")),l.default.createElement("p",null,"为什么取名叫 ",l.default.createElement("code",{className:"inline"},"nuomiProps")," 稍后见分晓。"),l.default.createElement("p",null,"新增 ",l.default.createElement("code",{className:"inline"},"src/list.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-js"},"import { defineProps } from 'nuomi';\n\nexport default defineProps({\n  state: {\n    data: []\n  },\n  reducer: {\n    updateData: (state, payload) => ({ ...state, ...payload })\n  },\n  action: {\n    async $getList({ commit }) {\n      // 模拟请求\n      const data = await new Promise((res) => {\n        setTimeout(() => {\n          res([\n            { name: 'react' },\n            { name: 'redux' },\n            { name: 'router' }\n          ]);\n        }, 500);\n      });\n      commit('updateData', { data });\n    },\n    remove({ getState, commit }, { name }) {\n      const { data } = getState();\n      commit('updateData', {\n        data: data.filter((v) => v.name !== name)\n      });\n    }\n  },\n  onInit({ store }) {\n    store.dispatch('$getList');\n  }\n});\n")),l.default.createElement("p",null,"该文件导出一个对象，",l.default.createElement("code",{className:"inline"},"state")," 定义初始状态；",l.default.createElement("code",{className:"inline"},"reducer")," 控制状态如何更新；",l.default.createElement("code",{className:"inline"},"action")," 用于提交状态更新；",l.default.createElement("code",{className:"inline"},"onInit")," 组件初始化。通过给 ",l.default.createElement("code",{className:"inline"},"action")," 添加 ",l.default.createElement("code",{className:"inline"},"$")," 前缀可以做到程序 ",l.default.createElement("code",{className:"inline"},"自动 loading")," 功能。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"编写UI组件"},"#"),l.default.createElement("span",null,"编写UI组件")),l.default.createElement("p",null,"新增 ",l.default.createElement("code",{className:"inline"},"src/List.jsx")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-js"},"import React from 'react';\nimport { Table, Button } from 'antd';\nimport { useConnect } from 'nuomi';\n\nconst List = () => {\n  const [{ data, $getList }, dispatch] = useConnect();\n\n  const remove = ({ name }) => {\n    dispatch('remove', {\n      name\n    });\n  };\n\n  const columns = [{\n    title: '框架',\n    dataIndex: 'name'\n  }, {\n    title: '操作',\n    render: (text, record) => <Button onClick={() => remove(record)}>删除</Button>\n  }];\n\n  return (\n    <Table\n      loading={$getList}\n      rowKey=\"name\"\n      dataSource={data}\n      columns={columns}\n      bordered\n    />\n  );\n};\n\nexport default List;\n")),l.default.createElement("p",null,"通过 ",l.default.createElement("code",{className:"inline"},"useConnect")," 可以让 ",l.default.createElement("code",{className:"inline"},"List")," 组件和 ",l.default.createElement("code",{className:"inline"},"store")," 关联起来，但此时 ",l.default.createElement("code",{className:"inline"},"List")," 还无法正常渲染。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"渲染组件"},"#"),l.default.createElement("span",null,"渲染组件")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/App.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},'import React from \'react\';\n+ import { Nuomi } from \'nuomi\';\n- import logo from \'./logo.svg\';\n- import \'./App.css\';\n+ import list from \'./list\';\n+ import List from \'./List.jsx\';\n\nfunction App() {\n  return (\n+   <Nuomi {...list}>\n+     <List />\n+   </Nuomi>\n-   <div className="App">\n-     <header className="App-header">\n-       <img src={logo} className="App-logo" alt="logo" />\n-       <p>\n-         Edit <code>src/App.js</code> and save to reload.\n-       </p>\n-       <a\n-         className="App-link"\n-         href="https://reactjs.org"\n-         target="_blank"\n-         rel="noopener noreferrer"\n-       >\n-         Learn React\n-       </a>\n-     </header>\n-   </div>\n  );\n}\n\nexport default App;\n')),l.default.createElement("p",null,"可以看到刚才在 ",l.default.createElement("code",{className:"inline"},"list.js")," 中定义的对象就是 ",l.default.createElement("code",{className:"inline"},"Nuomi")," 组件的 ",l.default.createElement("code",{className:"inline"},"props"),"，这就是取名为 ",l.default.createElement("code",{className:"inline"},"nuomiPorps")," 的原因，独立成一个文件可以方便维护。"),l.default.createElement("p",null,"最终效果如下："),l.default.createElement(o.default,null),l.default.createElement("p",null,"利用 ",l.default.createElement("code",{className:"inline"},"Nuomi")," 组件的特性与路由结合可以快速构建单页应用，根据自己喜好可以选择 ",l.default.createElement("code",{className:"inline"},"react-router")," 也可以\n是 ",l.default.createElement("code",{className:"inline"},"reach-router"),"。框架自身也内置了一套路由系统，相较于前2者与 ",l.default.createElement("code",{className:"inline"},"Nuomi")," 结合起来使用会更加方便。"),l.default.createElement("h2",null,l.default.createElement(a.AnchorLinkEnhance,{to:"使用路由"},"#"),l.default.createElement("span",null,"使用路由")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/App.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},"import React from 'react';\n- import { Nuomi } from 'nuomi';\n+ import { Router, Route } from 'nuomi';\nimport list from './list';\nimport List from './List.jsx';\n\nfunction App() {\n  return (\n-   <Nuomi {...list}>\n-     <List />\n-   </Nuomi>\n+    <Router>\n+     <Route path=\"/\" {...list}>\n+       <List />\n+     </Route>\n+     <Route path=\"/list\" {...list}>\n+       <List />\n+     </Route>\n+   </Router>\n  );\n}\n\nexport default App;\n")),l.default.createElement("p",null,"刷新页面可以看到与之前无任何区别，可以通过 ",l.default.createElement("code",{className:"inline"},"http://127.0.0.1:3000/#list")," 访问第二个页面。这里定义了2个 ",l.default.createElement("code",{className:"inline"},"Route")," 组件，同时引用了 ",l.default.createElement("code",{className:"inline"},"list"),"，但是2个组件的状态是互相独立的，通过这一点可以很容易做到大模块的复用。"),l.default.createElement("p",null,"上面代码中有一处是可以优化，",l.default.createElement("code",{className:"inline"},"Route")," 的子组件 ",l.default.createElement("code",{className:"inline"},"List")," 其实也是 ",l.default.createElement("code",{className:"inline"},"props"),"，可以把它放到 ",l.default.createElement("code",{className:"inline"},"list.js")," 中。"),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/App.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},"import React from 'react';\nimport { Router, Route } from 'nuomi';\nimport list from './list';\n- import List from './List.jsx';\n\nfunction App() {\n  return (\n    <Router>\n-     <Route path=\"/\" {...list}>\n-       <List />\n-     </Route>\n-     <Route path=\"/list\" {...list}>\n-       <List />\n-     </Route>\n+     <Route path=\"/\" {...list} />\n+     <Route path=\"/list\" {...list} />\n    </Router>\n  );\n}\n\nexport default App;\n")),l.default.createElement("p",null,"编辑 ",l.default.createElement("code",{className:"inline"},"src/list.js")),l.default.createElement("pre",null,l.default.createElement("code",{className:"language-diff"},"import React from 'react';\n+ import List from './List.jsx';\n\nexport default {\n  ...\n+ render() {\n+   return <List />;\n+ },\n}\n")),l.default.createElement("p",null,"可以使用 ",l.default.createElement("code",{className:"inline"},"children")," 属性渲染子组件，也可以使用 ",l.default.createElement("code",{className:"inline"},"render")," 函数来渲染组件。"),l.default.createElement("p",null,"框架的特性远不及此，更多功能等待你去发现。"))}p.isMDXComponent=!0;var m={state:{showCode:!1,setting:{title:"快速上手"},headings:[{text:"安装脚手架",depth:2,level:1},{text:"创建应用",depth:2,level:1},{text:"安装依赖包",depth:2,level:1},{text:"编写nuomiProps",depth:2,level:1},{text:"编写UI组件",depth:2,level:1},{text:"渲染组件",depth:2,level:1},{text:"使用路由",depth:2,level:1}],showSidebar:!0,showPageSidebar:!0,sidebarMenus:[{text:"安装脚手架",depth:2,level:1},{text:"创建应用",depth:2,level:1},{text:"安装依赖包",depth:2,level:1},{text:"编写nuomiProps",depth:2,level:1},{text:"编写UI组件",depth:2,level:1},{text:"渲染组件",depth:2,level:1},{text:"使用路由",depth:2,level:1}],pageSidebarMenus:[],utime:1687597327197.6392},render:function(){return l.default.createElement(p,{pageExtra:{platform:"Github",path:"https://github.com/nuomijs/nuomi/tree/master/docs",format:"yyyy/MM/dd hh:mm:ss"}})}};m.state.title="快速上手",t.default=m},1126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),l=n(103),a=u(n(1127)),o=u(n(1128));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return r.default.createElement(l.Nuomi,a.default,r.default.createElement(o.default,null))}},1127:function(e,t,n){"use strict";function r(e,t,n,r,l,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,l)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default={state:{data:[]},reducer:{updateState:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)}},action:{$getList:function(e){return(t=regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,new Promise((function(e){setTimeout((function(){e([{name:"react"},{name:"redux"},{name:"router"}])}),500)}));case 3:r=t.sent,n("updateState",{data:r});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(l,a){var o=t.apply(e,n);function u(e){r(o,l,a,u,c,"next",e)}function c(e){r(o,l,a,u,c,"throw",e)}u(void 0)}))})();var t},remove:function(e,t){var n=e.commit,r=e.getState,l=t.name;n("updateState",{data:r().data.filter((function(e){return e.name!==l}))})}},onInit:function(e){e.store.dispatch("$getList")}}},1128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(195)),l=u(n(109)),a=u(n(1)),o=n(103);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=function(){var e=c((0,o.useConnect)(),2),t=e[0],n=t.data,u=t.$getList,i=e[1],f=[{title:"框架",dataIndex:"name"},{title:"操作",render:function(e,t){return a.default.createElement(l.default,{onClick:function(){return e=t.name,void i("remove",{name:e});var e}},"删除")}}];return n.length||u?a.default.createElement(r.default,{loading:u,rowKey:"name",dataSource:n,columns:f,bordered:!0}):a.default.createElement(l.default,{type:"primary",onClick:function(){i("$getList")}},"再试一次")}},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defineProps",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"configure",{enumerable:!0,get:function(){return l.default}});var r=a(n(627)),l=a(n(628));function a(e){return e&&e.__esModule?e:{default:e}}},125:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.state,r=void 0===n?{}:n,a=e.reducer,u=void 0===a?{}:a,c=e.action,i=void 0===c?{}:c,f=e.getter,s=void 0===f?{}:f,d=o(e,["state","reducer","action","getter"]),p=t.state,m=void 0===p?{}:p,y=t.reducer,h=void 0===y?{}:y,b=t.action,v=void 0===b?{}:b,E=t.getter,g=void 0===E?{}:E,O=o(t,["state","reducer","action","getter"]);return l({state:l({},r,{},m),reducer:l({},u,{},h),action:l({},i,{},v),getter:l({},s,{},g)},d,{},O)}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=u,t.extendArray=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t,l=r.extends,a=o(r,["extends"]);Array.isArray(l)&&l.length&&(t=e(l[0],l.slice(1).concat(a)));if(!n.length)return t;return e(u(t,e(n[0])),n.slice(1))}},172:function(e,t,n){"use strict";function r(e){return"/".concat(e).replace(/\/{2,}/g,"/").replace(/([^/])\/$/,"$1").replace(/\*{2,}/g,"*")}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePath=r,t.pathToRegexp=function(e){var t=e.replace(/(\()(?!\?[:=!<>])/g,"$1?:").replace(/\/:[\w-]+/g,"(/[\\w-]+)").replace(/([./])/g,"\\$1").replace(/(\\\/)?\*/g,"(?:$1.*)?");return new RegExp("^".concat(t,"\\/?$"),"i")},t.default=function(e){var t=e,n="",l="",a={},o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var u=t.indexOf("?");-1!==u&&((l=t.substr(u)).substr(1).split("&").forEach((function(e){var t,n,r=e.split("="),l=(n=2,function(e){if(Array.isArray(e))return e}(t=r)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=l[0],u=l[1];o&&(a[o]=u)})),t=t.substr(0,u));return{pathname:t=r(t),url:t+l+n,hash:n,search:l,query:a,params:{}}}},240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),l=i(n(241)),a=n(124),o=n(125),u=n(26),c=n(41);function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v,E,g,O=function(e){function t(){var e,n;p(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];(n=y(this,(e=h(t)).call.apply(e,[this].concat(l)))).mounted=!1,n.store={};var i=n.props.load,f=(0,u.isFunction)(i);return n.state={loaded:!f,nuomiProps:(0,o.extendArray)((0,a.configure)(),[n.props])},n}var n,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(c=[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadProps()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loaded",value:function(e){var t=this.state.nuomiProps;!0===this.mounted&&this.setState({loaded:!0,nuomiProps:(0,o.extendArray)(e,[t])})}},{key:"loadProps",value:function(){var e=this,t=this.props.load;if(!this.state.loaded){var n=t((function(t){e.loaded(t)}));n&&n instanceof Promise&&n.then((function(t){return e.loaded(t.default)}))}}},{key:"getNuomiProps",value:function(){return(0,o.extend)(this.state.nuomiProps,this.props)}},{key:"render",value:function(){if(this.state.loaded){var e=this.getNuomiProps(),t=e.store,n=d(e,["store"]);return r.default.createElement(l.default,s({},n,{store:null===t?null:this.store}))}return null}}])&&m(n.prototype,c),i&&m(n,i),t}(r.default.PureComponent);t.default=O,v=O,E="propTypes",g=c.NuomiPropTypes,E in v?Object.defineProperty(v,E,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[E]=g},241:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(1)),l=m(n(62)),a=n(632),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==y(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(91)),u=n(26),c=n(125),i=m(n(242)),f=n(27),s=m(n(104)),d=n(41);function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r,l,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,l)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?j(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(){var e,n;v(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return P(j(n=g(this,(e=O(t)).call.apply(e,[this].concat(l)))),"reload",(function(){var e=n.props,t=e.store,r=e.context;n.nuomiComponent=null,t&&t.id&&(r&&(r.matched=null),n.setState((function(e){return{key:e.key+1}})),t.restoreState(),n.execInit())})),n.unListener=null,n.unSubcribe=null,n.action=null,n.state={key:0},n.initialize(),n}var n,d,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(d=[{key:"getId",value:function(){var e=this.props.id;if(!e)return"@@nuomi_".concat(++t.nuomiId);if((0,o.getStore)(e))throw new Error("id为 ".concat(e," 的store已被定义，请重新命名！"));return e}},{key:"getDefaultState",value:function(){var e=this.props,t=e.state,n=e.action,r={};return Object.keys(n).forEach((function(e){e&&e.startsWith("$")&&("boolean"!=typeof t[e]?r[e]=!1:r[e]=t[e])})),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},r)}},{key:"createReducer",value:function(){var e=this.props,t=e.store,n=e.reducer,r=(s.default[o.INITIALISE_STATE]||o.initialiseState||{})[t.id];r=r?(0,c.extend)({state:t.state},{state:r}).state:t.state,(0,a.createReducer)(t.id,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1?arguments[1]:void 0,o=a.type,u=a.payload,c="".concat(t.id,"/");if(0===o.indexOf(c)){var i=o.replace(c,"");if(n[i])return n[i](e,u);(0,l.default)(!1,"未定义名称为 ".concat(o," 的reducer，如果你想调用action中的方法，请使用\n          \nglobalStore.getStore('").concat(t.id,"').dispatch('").concat(i,"', payload)"))}return e}))}},{key:"updateGetter",value:function(){var e=this.props,t=e.store,n=e.getter,r={},l=new i.default(n,{get:function(e,t){var n=e[t];return(0,u.isFunction)(n)?function(e){return void 0===r[t]?n.call(l,e):r[t]}:function(){}}});Object.keys(n).forEach((function(e){r[e]=l[e](t.state)})),t.getter=r}},{key:"createSubcribe",value:function(){var e=this,t=this.props.store;this.unSubcribe=o.default.subscribe((function(){t.state!==t.getState()&&(t.state=t.getState(),e.updateGetter())}))}},{key:"createStore",value:function(){var e=this,t=this.props,n=t.store,r=t.reducer;n&&(n.id=this.getId(),n.dispatch=function(){var e,a=(e=regeneratorRuntime.mark((function e(a,c){var f,s,d,p,m,y,h,b,v,E,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t.action,-1!==(s=String(a).indexOf("/"))){e.next=30;break}if(!(0,u.isObject)(f)||!(0,u.isFunction)(f[a])){e.next=22;break}return d=[],p="".concat(n.id,"/@update"),e.prev=6,m=new i.default(f,{get:function(e,t){var r=f[t];if(n.id&&(0,u.isFunction)(r)){if(t.startsWith("$")){var l=d.slice(-1)[0],c={};!0!==n.state[t]&&(c[t]=!0),l!==a&&l&&(!1!==n.state[l]&&(c[l]=!1),d.pop()),Object.keys(c).length&&o.default.dispatch({type:p,payload:c}),d.push(t)}return function(e){return r.call(m,n,e)}}return r}}),e.next=10,m[a](c);case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(6),!e.t0||e.t0.constructor===Object){e.next=17;break}throw e.t0;case 17:return e.prev=17,n.id&&d.length&&(y={},!1!==n.state[d[0]]&&(y[d[0]]=!1),(h=d.slice(-1)[0])&&!1!==n.state[h]&&(y[h]=!1),Object.keys(y).length&&o.default.dispatch({type:p,payload:y})),e.finish(17);case 20:e.next=28;break;case 22:if(!r[a]||!n.id){e.next=26;break}return e.abrupt("return",o.default.dispatch({type:"".concat(n.id,"/").concat(a),payload:c}));case 26:return(0,l.default)(!1,"action和reducer中不存在 ".concat(a)),e.abrupt("return",f);case 28:e.next=39;break;case 30:if(b=a.substr(0,s),v=a.substr(s+1),!(E=(0,o.getStore)(b))){e.next=38;break}return e.next=36,E.dispatch(v,c);case 36:return g=e.sent,e.abrupt("return",g);case 38:(0,l.default)(!1,"未创建id为 ".concat(b," 的store"));case 39:case"end":return e.stop()}}),e,null,[[6,13,17,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,l){var a=e.apply(t,n);function o(e){h(a,r,l,o,u,"next",e)}function u(e){h(a,r,l,o,u,"throw",e)}o(void 0)}))});return function(e,t){return a.apply(this,arguments)}}(),n.restoreState=function(){return n.id&&o.default.dispatch({type:"".concat(n.id,"/@replace"),payload:e.getDefaultState()}),n.state},n.getState=function(){var t=o.default.getState();return t&&t[n.id]||e.getDefaultState()},n.state=n.getState(),n.getter={},n.commit=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];var a=t[0],u=t[1];if(t.length){1===t.length&&(a="@update",u=t[0]);var c=String(a).indexOf("/");if(-1===c)r[a]&&n.id&&o.default.dispatch({type:"".concat(n.id,"/").concat(a),payload:u});else{var i=a.substr(0,c),f=a.substr(c+1),s=(0,o.getStore)(i);if(s)return s.commit(f,u)}}return n.state},(0,o.setStore)(n.id,n),this.updateGetter(),this.createReducer(),this.createSubcribe())}},{key:"initialize",value:function(){this.createStore(),this.execInit()}},{key:"removeListener",value:function(){(0,u.isFunction)(this.unSubcribe)&&(this.unSubcribe(),this.unSubcribe=null),(0,u.isFunction)(this.unListener)&&(this.unListener(),this.unListener=null)}},{key:"removeStore",value:function(){var e=this.props,t=e.store;e.id,t&&((0,a.removeReducer)(t.id),delete t.id)}},{key:"getContext",value:function(){var e=this.props,t=e.store,n=e.location,r={store:t,reload:this.reload};return n&&(r.location=n),this.context&&(r.parent=this.context.nuomi),r}},{key:"execInit",value:function(){var e=this.props.onInit;(0,u.isFunction)(e)&&e(this.getContext())}},{key:"getChildren",value:function(){var e=this.props,t=e.render,n=e.children;if(t){var l=t;return r.default.createElement(l,null,n)}return n}},{key:"componentWillUnmount",value:function(){this.removeStore(),this.removeListener()}},{key:"render",value:function(){var e=this.state,t=this.getContext(),n=this.getChildren();return this.nuomiComponent||(this.nuomiComponent=r.default.createElement(f.NuomiContext.Provider,{key:e.key,value:{nuomi:t}},n)),this.nuomiComponent}}])&&E(n.prototype,d),p&&E(n,p),t}(r.default.Component);t.default=S,P(S,"propTypes",d.NuomiPropTypes),P(S,"contextType",f.NuomiContext),P(S,"nuomiId",0)},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(633)),l=n(26);function a(e){return e&&e.__esModule?e:{default:e}}var o=a(n(104)).default.Proxy,u=(0,l.isNative)(o)?o:(0,r.default)();t.default=u},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),l=i(n(44)),a=n(27),o=i(n(240)),u=n(51),c=n(41);function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n;m(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=h(this,(e=b(t)).call.apply(e,[this].concat(l)))).context={},n.state={mounted:!1},n}var n,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(c=[{key:"componentWillUnmount",value:function(){this.context.matched===this&&(this.context.matched=null)}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.path,c=t.name;return this.state.mounted?r.default.createElement(a.RouterContext.Consumer,null,(function(t){(0,l.default)(t,"不允许在 <Router> 外部使用 <NuomiRoute>"),e.context=t;var i=!t.matched||t.matched===e,f=(0,u.match)(t.location,{path:n,name:c},!0);return i||(f=!1),f?(t.matched=e,r.default.createElement(a.RouterContext.Provider,{value:p({},t,{location:f,matched:null})},r.default.createElement(a.RouterContext.Consumer,null,(function(t){return r.default.createElement(o.default,s({},e.props,{location:f,context:t}))})))):null})):null}}])&&y(n.prototype,c),i&&y(n,i),t}(r.default.PureComponent);t.default=g,E(g,"propTypes",c.NuomiRoutePropTypes)},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(1)),l=f(n(44)),a=n(27),o=f(n(637)),u=n(51),c=n(124),i=n(41);function f(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n;y(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=b(this,(e=v(t)).call.apply(e,[this].concat(l)))).store={},n.routeComponent=null,n.wrappers=[],n.context={},n.state={mounted:!1},n}var n,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(i=[{key:"componentWillUnmount",value:function(){this.context.matched===this&&(this.context.matched=null)}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=(0,c.configure)(),n=this.props,i=n.path,f=n.name,s=n.cache,y=void 0===s?t.cache:s,h=n.store,b=m(n,["path","name","cache","store"]);return this.state.mounted?r.default.createElement(a.RouterContext.Consumer,null,(function(t){(0,l.default)(t,"不允许在 <Router> 外部使用 <Route>"),e.context=t;var n=!t.matched||t.matched===e,c=(0,u.match)(t.location,{path:i,name:f},!0);if(n||(c=!1),!c)return!0===y&&null!==e.routeComponent?e.routeComponent:null;e.routeComponent=null;var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{location:c,matched:null,wrappers:t.childrenWrappers||t.wrappers,childrenWrappers:e.wrappers});return c&&(t.matched=e,e.routeComponent=r.default.createElement(a.RouterContext.Provider,{value:s},r.default.createElement(o.default,d({},b,{path:i,name:f,cache:y,location:c,store:null===h?null:e.store})))),e.routeComponent})):null}}])&&h(n.prototype,i),f&&h(n,f),t}(r.default.PureComponent);t.default=O,g(O,"propTypes",i.RoutePropTypes),g(O,"defaultProps",{path:""})},245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(1)),l=f(n(44)),a=n(27),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(51)),u=n(26),c=n(41);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n;d(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(n=m(this,(e=y(t)).call.apply(e,[this].concat(l)))).redirected=!1,n.state={mounted:!1},n}var n,c,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(c=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.from,c=t.to,i=t.reload;return this.state.mounted?r.default.createElement(a.RouterContext.Consumer,null,(function(t){(0,l.default)(t,"不允许在 <Router> 外部使用 <Redirect>");var r=t.matched,a=t.location,f=t.staticContext;return!c||t.redirecting||e.redirected?e.redirected&&(e.redirected=!1):(n&&(0,o.match)(a,{path:n},!1)||!r&&!n)&&(e.redirected=!0,t.redirecting=!0,Promise.resolve().then((function(){o.default.replace(c,i)})),f&&(f.url=(0,u.isObject)(c)?(0,o.restorePath)(c):c)),null})):null}}])&&p(n.prototype,c),i&&p(n,i),t}(r.default.PureComponent);t.default=v,b(v,"propTypes",c.RedirectPropTypes),b(v,"defaultProps",{from:"",to:"",reload:!1})},246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=n(1))&&r.__esModule?r:{default:r},a=n(27),o=n(51),u=n(41);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];(n=s(this,(e=d(t)).call.apply(e,[this].concat(l)))).mounted=!1,n.state={},n.location=null,n.wrappers=[];var u=n.context||{},c=u.staticLocation;return n.clearRouter=(0,o.createRouter)(n.props,c,(function(e){n.mounted?n.setState({location:e}):(n.location=e,n.state.location||(n.state.location=e))})),n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.mounted=!0,this.state.location!==this.location&&this.setState({location:this.location})}},{key:"componentWillUnmount",value:function(){this.clearRouter&&(this.clearRouter(),this.clearRouter=null,this.mounted=!1,this.location=null)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.basename,r=e.type,o=this.state.location,u={location:o,staticContext:(this.context||{}).staticContext,matched:null,wrappers:this.wrappers,basename:n,type:r};return o?l.default.createElement(a.RouterContext.Provider,{value:u},t):null}}])&&f(n.prototype,r),u&&f(n,u),t}(l.default.PureComponent);t.default=y,m(y,"propTypes",u.RouterPropTypes),m(y,"contextType",a.RouterContext),m(y,"defaultProps",{basename:"/",type:"hash"})},247:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Link=void 0;var r,l=(r=n(1))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(51)),o=n(41),u=n(26);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?h(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function t(){var e,n;d(this,t);for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return v(h(n=m(this,(e=y(t)).call.apply(e,[this].concat(l)))),"onClick",(function(e){e.preventDefault();var t=n.props,r=t.to,l=t.reload,o=t.replace,c=t.onClick;(0,u.isFunction)(c)&&!1===c(e)||a.default[o?"replace":"push"](r,l)})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.to,n=(e.reload,e.replace,e.forwardRef),r=s(e,["to","reload","replace","forwardRef"]);return l.default.createElement("a",f({href:(0,a.combinePath)(t)},r,{onClick:this.onClick,ref:n}))}}])&&p(n.prototype,r),o&&p(n,o),t}(l.default.PureComponent);t.Link=E,v(E,"propTypes",o.LinkPropTypes),v(E,"defaultProps",{to:"",replace:!1,reload:!1});var g=l.default.forwardRef((function(e,t){return l.default.createElement(E,f({},e,{forwardRef:t}))}));t.default=g},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqual=t.noop=t.isNative=t.isArray=t.isObject=t.isString=t.isFunction=t.isType=void 0;var r=function(e){return function(t){return{}.toString.call(t)==="[object ".concat(e,"]")}};t.isType=r;t.isFunction=function(e){return"function"==typeof e};var l=r("String");t.isString=l;var a=function(e){return e&&r("Object")(e)};t.isObject=a;var o=Array.isArray||r("Array");t.isArray=o;t.isNative=function(e){return void 0!==e&&/native code/i.test(e.toString())};t.noop=function(){};t.shallowEqual=function(e,t){if(Object.is(e,t))return!0;if(!a(e)||!a(t))return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var l=0;l<n.length;l++)if(!Object.prototype.hasOwnProperty.call(t,n[l])||!Object.is(e[n[l]],t[n[l]]))return!1;return!0}},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NuomiContext=t.RouterContext=void 0;var r,l=(r=n(1))&&r.__esModule?r:{default:r};var a=l.default.createContext();t.RouterContext=a,a.displayName="RouterContext";var o=l.default.createContext();t.NuomiContext=o,o.displayName="NuomiContext"},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectPropTypes=t.NavLinkPropTypes=t.LinkPropTypes=t.StaticRouterPropTypes=t.RouterPropTypes=t.ShapeRoutePropTypes=t.RoutePropTypes=t.NuomiRoutePropTypes=t.NuomiPropTypes=void 0;var r,l=(r=n(0))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={id:l.default.string,state:l.default.object,store:l.default.object,reducer:l.default.objectOf(l.default.func),action:l.default.objectOf(l.default.func),getter:l.default.objectOf(l.default.func),extends:l.default.arrayOf(l.default.object),render:l.default.func,onInit:l.default.func,load:l.default.func};t.NuomiPropTypes=c;var i=o({},c,{path:l.default.string,name:l.default.string});t.NuomiRoutePropTypes=i;var f=o({},c,{path:l.default.string,name:l.default.string,cache:l.default.oneOf(["state",!0,!1]),reload:l.default.bool,onEnter:l.default.func,onShow:l.default.func,onActivte:l.default.func,onLeave:l.default.func});t.RoutePropTypes=f;var s={routes:l.default.arrayOf(l.default.object)};t.ShapeRoutePropTypes=s;var d={basename:l.default.string,type:l.default.oneOf(["hash","browser"])};t.RouterPropTypes=d;var p={basename:l.default.string,location:l.default.oneOfType([l.default.string,l.default.object]),context:l.default.object};t.StaticRouterPropTypes=p;var m={to:l.default.oneOfType([l.default.string,l.default.object]),reload:l.default.bool,replace:l.default.bool};t.LinkPropTypes=m;var y=o({},m,{activeClassName:l.default.string,activeStyle:l.default.object,isActice:l.default.func});t.NavLinkPropTypes=y;var h={from:l.default.string,to:l.default.oneOfType([l.default.string,l.default.object]),reload:l.default.bool};t.RedirectPropTypes=h},444:function(e,t,n){n(445),e.exports=n(621)},51:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createRouter=function(e,n,r){_&&_();n&&(y=n);S=s({},S,{},e);var l=(w="browser"!==S.type)?"hashchange":"popstate";return F((function(e,t){r(x=t)})),u.default.addEventListener(l,A),_=function(){u.default.removeEventListener(l,A),z(),O={},j={},S=P,w=!0,y=u.default.location,x={},N=null,t.blockData=k={},E=!0,v={}}},t.combinePath=D,t.match=U,t.callShowedListener=function(e){var t=p(b,2)[1];(void 0===t?[]:t).forEach((function(t){t(e)}))},t.addReloadListener=function(e){if((0,a.isFunction)(e)){var t=p(b,3)[2],n=void 0===t?[]:t;return n.push(e),b[2]=n,function(){z(null,null,e)}}return function(){}},t.restorePath=L,t.default=t.blockData=void 0;var l=i(n(62)),a=n(26),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(172)),u=i(n(104));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var y=u.default.location,h=u.default.history,b=[],v={},E=!0,g=!0,O={},j={},w=!0,P={type:"hash",basename:"/"},S=P,_=null,x={},k={};t.blockData=k;var N=null;function R(){var e=y,t=e.pathname,n=e.search,r=e.hash,l="";return l=w?r.substr(1):t+n+r,decodeURI(l)}function M(){return Object.assign((e=R(),Object.assign((0,o.default)(e.replace(new RegExp("^".concat(S.basename)),"")),{state:v.state||{}})),v);var e}function A(){if(g)if(E?v={}:E=!0,(0,a.isFunction)(k.callback)||(0,a.isFunction)(N)){k.to||(k.to=M());var e=k.to,n=e.reload,r=m(e,["reload"]);(k.callback||N)((function(e){t.blockData=k={},g=!0,e?$():T(r,n)}),(function(e){E=!0,v={},g=!1,k.to=null,I(e)}),k.to)}else $();else g=!0}function L(e){if((0,a.isString)(e))return e;var t="",n=e.pathname,r=e.name,l=e.params,o=e.query,u=e.search,c=e.url,i=e.hash,f=e.path;if((0,a.isString)(c)&&c)t=c;else{if((0,a.isString)(r)&&r&&(f=j[r]),(0,a.isString)(f)&&f&&!n?(t=f,(0,a.isObject)(l)&&Object.keys(l).forEach((function(e){t=t.replace(new RegExp("\\/:".concat(e)),"/".concat(l[e]||"0"))})),t=t.replace(/\*/g,"")):(0,a.isString)(n)&&n&&(t=n),(0,a.isString)(u)&&u)0!==u.indexOf("?")?t+="?".concat(u):t+=u;else if((0,a.isObject)(o)&&Object.keys(o).length){t+="?";var s=[];Object.keys(o).forEach((function(e){s.push("".concat(e,"=").concat(o[e]))})),t+=s.join("&")}i&&(0,a.isString)(i)&&(0===i.indexOf("#")?t+=i:t+="#".concat(i))}return t}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=L(e),n=t.indexOf("?"),r=t.indexOf("#"),l=t,a="";return-1!==n?(l=t.substr(0,n),a=t.substr(n)):-1!==r&&(l=t.substr(0,r),a=t.substr(r)),(0,o.normalizePath)("".concat(S.basename,"/").concat(l))+a}function C(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2];if(t){E=!1,v={},!0===n&&(v.reload=n),(0,a.isObject)(t)&&(0,a.isObject)(t.state)&&(v.state=t.state);var r=D(t),l=R();if(r!==l)if(!w||h.pushState||h.replaceState)w&&(r="#".concat(r)),h["push"===e?"pushState":"replaceState"]({url:r},null,r),A();else if("push"===e)y.hash=r;else{var o=y,u=o.pathname,c=o.search;y.replace("".concat(u+c,"#").concat(r))}else!0===n&&W()}}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C.apply(void 0,["push"].concat(t))}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C.apply(void 0,["replace"].concat(t))}function W(){var e;v={},(void 0===(e=p(b,3)[2])?[]:e).forEach((function(e){e(x)}))}function $(){var e=null,t=p(b,1)[0];(void 0===t?[]:t).forEach((function(t){e||(e=M()),t(x,e)}))}function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var r=b,l=p(r,3),a=l[0],o=void 0===a?[]:a,u=l[1],c=void 0===u?[]:u,i=l[2],f=void 0===i?[]:i;t[0]&&(b[0]=o.filter((function(e){return e!==t[0]}))),t[1]&&(b[1]=c.filter((function(e){return e!==t[1]}))),t[2]&&(b[2]=f.filter((function(e){return e!==t[1]})))}else b=[]}function F(e,t){if((0,a.isFunction)(e)||(0,a.isFunction)(t)){var n=p(b,2),r=n[0],l=void 0===r?[]:r,o=n[1],u=void 0===o?[]:o;return e&&(l.push(e),b[0]=l,e(x,M(),!0)),t&&(u.push(t),b[1]=u),function(){z(e,t)}}return function(){}}function U(e,t){var n=t.path,r=t.name,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.pathname,u=(0,o.normalizePath)(n),c=O[u];c||(c=(0,o.pathToRegexp)(u),O[u]=c),r&&!j[r]&&(j[r]=u,j[u]=r);var i=a.match(c),f=!!i;if(f&&l){var d,p=n.match(/\/:([\w-]+)/g);if(p){var m={};p.forEach((function(e,t){var n=e.replace(/^\/:/,""),r=i[t+1];void 0!==r&&(m[n]=r.replace(/^\//,""))})),d=s({},e,{params:m})}else d=s({},e);return u&&(d.path=u),j[u]&&(d.name=j[u]),d}return f}var B={listener:F,location:function(){return M()},reload:W,push:T,replace:I,back:function(e){h.back(e)},forward:function(e){h.forward(e)},matchPath:function(){return U(arguments.length<=0?void 0:arguments[0],{path:arguments.length<=1?void 0:arguments[1]},!0)},mergePath:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e&&(0,a.isString)(e)})),l=r.length-1;return r=r.map((function(e,t){return t<l?e.replace(/\*$/,""):e})),(0,o.normalizePath)(r.join("/"))},normalizePath:o.normalizePath,parserPath:o.default,namePath:function e(t,n){if((0,a.isString)(t)&&(0,a.isString)(n)){if(t&&n&&!j[t]){var r=(0,o.normalizePath)(n);j[t]=r,j[r]=t}}else Array.isArray(t)&&t.forEach((function(t){var n=t||{};e(n.name,n.path)}))},block:function(e){N?(0,l.default)(!1,"router.block只能创建一次"):(0,a.isFunction)(e)&&(N=function(t,n,r){var l=!1!==e(x,r,t);l?t(l):n(x.url)})}};t.default=B},621:function(e,t,n){"use strict";var r=i(n(1)),l=i(n(6)),a=n(103),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(77));n(1118);var u=i(n(1119));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=[d({key:1587103347272.0408,path:"/",state:{},extends:[{state:{ctime:1587103347272.0408,utime:1644479868757.9507,pathname:"/",filename:"README",ext:".md",title:"README"}}]},n(1120).default),{path:"/api",children:[d({key:1587106391052.6233,path:"/",state:{},extends:[{state:{ctime:1587106391052.6233,utime:1687597327195.643,pathname:"/api/",filename:"README",ext:".md",title:"README"}}]},n(1121).default),{path:"*",children:r.default.createElement(o.NotFound,null)}]},{path:"/guide",children:[d({key:1587103347273.0015,path:"/",state:{},extends:[{state:{ctime:1587103347273.0015,utime:1587105999133.3252,pathname:"/guide/",filename:"README",ext:".md",title:"README"}}]},n(1122).default),d({key:1587106040240.5022,path:"/examples",state:{},extends:[{state:{ctime:1587106040240.5022,utime:1587106062423.0205,pathname:"/guide/",filename:"examples",ext:".md",title:"examples"}}]},n(1123).default),d({key:1587108242614.8472,path:"/functions",state:{},extends:[{state:{ctime:1587108242614.8472,utime:1687597327196.6416,pathname:"/guide/",filename:"functions",ext:".md",title:"functions"}}]},n(1124).default),d({key:1587103347273.7185,path:"/quick-start",state:{},extends:[{state:{ctime:1587103347273.7185,utime:1687597327197.6392,pathname:"/guide/",filename:"quick-start",ext:".md",title:"quick-start"}}]},n(1125).default),{path:"*",children:r.default.createElement(o.NotFound,null)}]}],y=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){if("*"!==t.path){var r=t.state,l=t.extends,a=void 0===l?[{}]:l,o=t.children,u=t.path,c=d({},a[0].state,{},r,{path:u});Array.isArray(o)?n=e(o,n):c.title&&n.push(c)}})),n}(m),h=function e(t,n){var r=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return n.forEach((function(n){if("string"==typeof n){var o=n,u=(t+"/").replace(/\/+$/,"/")+n,c=o.lastIndexOf("/");if(-1!==c&&(o=o.substr(c+1)),o){var i,s=y.find((function(e){return e.pathname+e.filename===u}));if(s){var d=s.pathname,p=s.filename,m=s.title,h=s.ext,b={to:d+(/^README$/i.test(p)?"":p),text:m};r.pathname+r.filename===u&&h===r.ext&&(b.menus=r.sidebarMenus),i=b}else i={to:r.pathname+o,text:o};a.push(i),l.push(i)}}else if(n&&"object"===f(n))if(Array.isArray(n)){var v=e.call(r,t,n),E=v.menus,g=v.list;a=a.concat(g),l=l.concat(E)}else{var O=n.text,j=n.menus;if(O)if(Array.isArray(j)){var w=e.call(r,t,j),P=w.menus,S=w.list,_={text:O,menus:P};a=a.concat(S),l.push(_)}else l.push({text:O})}})),{menus:l,list:a}};(0,a.configure)({state:{listSource:[]},action:{initData:function(e){var t=e.state,n=e.commit,r=t.title,l=t.pathname,o=t.filename,u=t.showSidebar,c=t.showPageSidebar,i=t.sidebarTitle,f=t.sidebarMenus,s=t.pageSidebarMenus,d=t.routeData,p=void 0===d?{}:d,m={sidebarTitle:i,showSidebar:!!u,showPageSidebar:!!c,pageSidebarMenus:s};if(!p.computedSidebarMenus){var y,b,v={"/guide":{title:"指南",menus:["README","quick-start","functions","examples"]}},E=l+o,g=function e(t,n){var r=!1;if(Array.isArray(n)){var l=!0,a=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var i=u.value;if("string"==typeof i&&(t+"/").replace(/\/+$/,"/")+i===E){r=!0;break}!r&&i&&i.menus&&(r=e(t,i.menus))}}catch(e){a=!0,o=e}finally{try{l||null==c.return||c.return()}finally{if(a)throw o}}}return r};for(var O in v){var j=v[O]||{};if(l.startsWith(O)&&g(O,j.menus)){y=j,b=O;break}}if(y){m.sidebarTitle=y.title;var w=h.call(t,b,y.menus),P=w.menus,S=w.list;p.listSource=S,p.computedSidebarMenus=P}else p.listSource=[],p.computedSidebarMenus=[{text:r,menus:f}]}m.sidebarMenus=p.computedSidebarMenus||[],n({listSource:p.listSource||[]}),a.globalStore.dispatch({type:"global/@update",payload:m})}},onInit:function(e){var t=e.store,n=a.router.location(),r=n.state,l=t.state.title;if(l&&"/"!==n.pathname?document.title=l+" | NuomiJS":document.title="NuomiJS",l){if(r.hash){var o=window.location.hash;return void setTimeout((function(){window.location.hash=o+"#"+r.hash}))}n.hash||window.scrollTo({top:0})}else window.scrollTo({top:0})}}),a.router.listener((function(e,t){(null==e?void 0:e.pathname)!==t.pathname&&NProgress.start()}),(function(e){e.path.endsWith("*")||setTimeout((function(){NProgress.done()}),300)}));var b=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){var r=t.to,l=t.text,a=t.menus;l&&(Array.isArray(a)?n.push({text:l,to:r,menus:e(a)}):n.push({text:l,to:r}))})),n}([{text:"指南",to:"/guide"},{text:"API",to:"/api"},{text:"v1.1.1",menus:[{text:"0.x",to:"https://nuomijs.github.io/0.x"}]},{text:"GitHub",to:"https://github.com/nuomijs/nuomi"}]),v={showSidebar:!1,pageSidebar:!1,sidebarTtile:"",sidebarMenus:[],pageSidebarMenus:[]};l.default.render(r.default.createElement((function(){return r.default.createElement(a.Router,{type:"hash",basename:"/"},r.default.createElement(a.Nuomi,{id:"global",state:v,onInit:null},r.default.createElement(o.Layout,{type:"hash",title:"NuomiJS",nav:b,footer:u.default,dataSource:y},r.default.createElement(a.ShapeRoute,{routes:m}),r.default.createElement(a.Route,{path:"*"},r.default.createElement(o.NotFound,null)))))}),null),document.getElementById("root"))},626:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var l={router:!0,globalStore:!0,INITIALISE_STATE:!0};Object.defineProperty(t,"router",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"globalStore",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"INITIALISE_STATE",{enumerable:!0,get:function(){return c.INITIALISE_STATE}});var a=n(124);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(l,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o,u=(o=n(51))&&o.__esModule?o:{default:o},c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(91));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}},627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e&&(c=(0,r.extendArray)(c,[e]));return c};var r=n(125);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={state:{},reducer:{"@replace":function(e,t){return a({},t)},"@update":function(e,t){return a({},e,{},t)}}},c=(0,r.extend)({},u)},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(173),l=n(26);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e,t){return function(n){return function(){var o,c=n.apply(void 0,arguments),i=function(){throw new Error("dispatch未被创建，不允许使用")},f={getState:c.getState,dispatch:function(){return i.apply(void 0,arguments)}};return u({},c,{dispatch:function(n){if(!o){var u=e().map((function(e){return e(f)}));o=r.compose.apply(void 0,a(u))(c.dispatch),i=o,(0,l.isFunction)(t)&&t()}return o(n)}})}}}},631:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Nuomi:!0,NuomiRoute:!0,ShapeRoute:!0,Router:!0,StaticRouter:!0,Route:!0,Redirect:!0,Link:!0,NavLink:!0,connect:!0,withNuomi:!0,withLocation:!0};Object.defineProperty(t,"Nuomi",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"NuomiRoute",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ShapeRoute",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"withNuomi",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"withLocation",{enumerable:!0,get:function(){return y.default}});var l=b(n(240)),a=b(n(243)),o=b(n(636)),u=b(n(246)),c=b(n(639)),i=b(n(244)),f=b(n(245)),s=b(n(247)),d=b(n(640)),p=b(n(641)),m=b(n(642)),y=b(n(643)),h=n(27);function b(e){return e&&e.__esModule?e:{default:e}}Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}))},632:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createReducer=function(e,t){e&&t&&(c[e]=t,i())},t.removeReducer=function(e){c[e]&&(delete c[e],(0,a.setStore)(e,null),i())};var l=n(173),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(91)),o=n(26);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c={};function i(){Object.keys(c).length?a.default.replaceReducer((0,l.combineReducers)(c)):a.default.replaceReducer(o.noop)}},633:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){var e,t=null;function n(e){return!!e&&("object"===r(e)||"function"==typeof e)}return(e=function(e,r){if(!n(e)||!n(r))throw new TypeError("Cannot create proxy with a non-object as target or handler");var l=function(){};t=function(){e=null,l=function(e){throw new TypeError("Cannot perform '".concat(e,"' on a proxy that has been revoked"))}},setTimeout((function(){t=null}),0);var a=r;for(var o in r={get:null,set:null,apply:null,construct:null},a){if(!(o in r))throw new TypeError("Proxy polyfill does not support trap '".concat(o,"'"));r[o]=a[o]}"function"==typeof a&&(r.apply=a.apply.bind(a));var u=this,c=!1,i=!1;"function"==typeof e?(u=function(){var t=this&&this.constructor===u,n=Array.prototype.slice.call(arguments);if(l(t?"construct":"apply"),t&&r.construct)return r.construct.call(this,e,n);if(!t&&r.apply)return r.apply(e,this,n);if(t){n.unshift(e);var a=e.bind.apply(e,n);return new a}return e.apply(this,n)},c=!0):e instanceof Array&&(u=[],i=!0);var f=r.get?function(e){return l("get"),r.get(this,e,u)}:function(e){return l("get"),this[e]},s=r.set?function(e,t){l("set"),r.set(this,e,t,u)}:function(e,t){l("set"),this[e]=t},d=Object.getOwnPropertyNames(e),p={};d.forEach((function(t){if(!c&&!i||!(t in u)){var n={enumerable:!!Object.getOwnPropertyDescriptor(e,t).enumerable,get:f.bind(e,t),set:s.bind(e,t)};Object.defineProperty(u,t,n),p[t]=!0}}));var m=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(u,Object.getPrototypeOf(e)):u.__proto__?u.__proto__=e.__proto__:m=!1,r.get||!m)for(var y in e)p[y]||Object.defineProperty(u,y,{get:f.bind(e,y)});return Object.seal(e),Object.seal(u),u}).revocable=function(n,r){return{proxy:new e(n,r),revoke:t}},e}},636:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(1)),l=d(n(44)),a=n(26),o=d(n(51)),u=n(41),c=n(27),i=d(n(244)),f=d(n(245)),s=d(n(243));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e,t){var n=e.key,r=e.path,l=e.to;return n||(r?"path_".concat(r):l?"to_".concat(l):t)},P=function(e){function t(){return b(this,t),E(this,g(t).apply(this,arguments))}var n,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(l=[{key:"getComponents",value:function(e,t){var n=this,l=[];return e.filter((function(e){return!!e})).forEach((function(e,u){if(r.default.isValidElement(e))l.push(r.default.cloneElement(e,{key:w(e,u)}));else{var c=e.route,d=e.children,p=h(e,["route","children"]),b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p),v=(0,a.isArray)(d)&&d.length,E=i.default;p.to?E=f.default:p.path&&!1===c&&(E=s.default),b.path&&(b.path=o.default.mergePath(t,b.path,v?"/*":""),b.name&&o.default.namePath(b.name,b.path));var g=v?n.getComponents(d,b.path):d;l.push(r.default.createElement(E,m({},b,{key:w(b,u)}),g))}})),l}},{key:"render",value:function(){var e=this.props.routes;return this.getComponents(e)}}])&&v(n.prototype,l),u&&v(n,u),t}(r.default.PureComponent);j(P,"propTypes",u.ShapeRoutePropTypes),j(P,"defaultProps",{routes:[]});var S=function(e){return r.default.createElement(c.RouterContext.Consumer,null,(function(t){return(0,l.default)(t,"不允许在 <Router> 外部使用 <ShapeRoute>"),r.default.createElement(P,e)}))};t.default=S},637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),l=n(27),a=s(n(638)),o=n(26),u=n(124),c=n(125),i=n(51),f=n(41);function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n;y(this,t);for(var l=arguments.length,a=new Array(l),i=0;i<l;i++)a[i]=arguments[i];(n=b(this,(e=v(t)).call.apply(e,[this].concat(a)))).wrapperRef=r.default.createRef(),n.mounted=!1,n.wrapper=null;var f=n.props.load,s=!(0,o.isFunction)(f),d=(0,c.extendArray)((0,u.configure)(),[n.props]);return n.state={loaded:s,visible:!!s&&!d.onEnter,nuomiProps:d},n}var n,l,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(l=[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.context.wrappers,n=this.wrapperRef.current,r=this.state,l=r.loaded,a=r.nuomiProps;n&&(this.wrapper=n,t.push(n)),this.hideWrapper(),l?this.visibleHandler(a,(function(){e.showWrapper(a),e.visibleRoute()})):this.loadProps((function(t){e.visibleHandler(t,(function(){e.showWrapper(t),e.visibleRoute({loaded:!0,nuomiProps:t})}))}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.context.wrappers,r=this.props,l=r.location,a=r.cache,o=this.wrapperRef.current;if(!0!==a&&this.wrapper?(this.removeWrapper(),this.wrapper=null):!0===a&&!this.wrapper&&o&&(this.wrapper=o,n.push(o)),l!==e.location&&(this.hideWrapper(),!0===a)){var u=this.state.nuomiProps;this.visibleHandler(u,(function(){t.showWrapper(u)}))}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.removeWrapper()}},{key:"loadProps",value:function(e){var t=this.props.load,n=this.state.nuomiProps,r=t((function(t){e((0,c.extendArray)(t,[n]))}));r&&r instanceof Promise&&r.then((function(t){return e((0,c.extendArray)(t.default,[n]))}))}},{key:"visibleHandler",value:function(e,t){e.onEnter?!0===e.onEnter((function(){t()}))&&t():t()}},{key:"visibleRoute",value:function(e){var t=this.state.visible;this.mounted&&(t?e&&this.setState(e):this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({visible:!0},e)))}},{key:"showWrapper",value:function(e){var t=this.props.location.url;(0,o.isFunction)(e.onLeave)&&(i.blockData.callback=function(n,r,l){var a=!1!==e.onLeave(n,l);a?n(a):r(t)}),this.wrapper&&(this.wrapper.style.display="",delete this.wrapper.__HIDE_NUOMI_ROUTE)}},{key:"removeWrapper",value:function(){var e=this,t=this.context.wrappers;this.wrapper&&(this.context.wrappers=t.filter((function(t){return t!==e.wrapper})))}},{key:"hideWrapper",value:function(){this.context.wrappers.forEach((function(e){e.__HIDE_NUOMI_ROUTE||(e.style.display="none",e.__HIDE_NUOMI_ROUTE=!0)}))}},{key:"getNuomiProps",value:function(){return(0,c.extend)(this.state.nuomiProps,this.props)}},{key:"render",value:function(){var e=this.getNuomiProps(),t=e.cache,n=this.state,l=n.visible,o=!(!n.loaded||!l);return!0===t?r.default.createElement("div",{ref:this.wrapperRef,className:"nuomi-route-wrapper"},o&&r.default.createElement(a.default,p({},e,{context:this.context}))):o?r.default.createElement(a.default,p({},e,{context:this.context})):null}}])&&h(n.prototype,l),f&&h(n,f),t}(r.default.PureComponent);t.default=O,g(O,"propTypes",f.RoutePropTypes),g(O,"contextType",l.RouterContext)},638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=n(241))&&r.__esModule?r:{default:r},a=n(26),o=n(41),u=n(51);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var l=Object.getOwnPropertyDescriptor(r,t);return l.get?l.get.call(n):l.value}})(e,t,n||e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n;f(this,t);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return b(p(n=d(this,(e=y(t)).call.apply(e,[this].concat(l)))),"reloadRoute",(function(){var e=n.props.store;e&&e.id&&(n.reload(),n.routerChange())})),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"getContext",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m(y(t.prototype),"getContext",this).call(this),{reload:this.reloadRoute})}},{key:"initialize",value:function(){this.createStore(),this.execInit(),this.routerChange()}},{key:"routerChange",value:function(e){var t=this.props,n=t.onShow,r=t.onActivate;(0,a.isFunction)(n)&&n(this.getContext()),e&&(0,a.isFunction)(r)&&r(this.getContext())}},{key:"showedListener",value:function(){var e=this.props.location;Promise.resolve().then((function(){(0,u.callShowedListener)(e)}))}},{key:"componentWillUnmount",value:function(){var e=this.props.cache;"state"!==e&&!0!==e&&this.removeStore(),this.removeListener()}},{key:"componentDidMount",value:function(){var e=this;this.unListener=(0,u.addReloadListener)((function(t){var n=e.props,r=n.reload,l=n.location;!1!==r&&l===t&&e.reloadRoute()})),this.showedListener()}},{key:"componentDidUpdate",value:function(e){var t=this.props;if(t!==e){var n=t.location,r=t.reload;e.location!==n&&(!1!==r&&!0===n.reload?this.reloadRoute():this.routerChange(!0),this.showedListener())}}}])&&s(n.prototype,r),l&&s(n,l),t}(l.default);t.default=v,b(v,"propTypes",o.RoutePropTypes)},639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),l=n(91),a=s(n(246)),o=n(27),u=n(26),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(172)),i=n(41);function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function t(){var e,n;y(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=b(this,(e=v(t)).call.apply(e,[this].concat(a))),(0,l.clearStore)(),n}var n,i,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(i=[{key:"getStaticLocation",value:function(){var e=this.props.location,t=e;(0,u.isString)(e)&&(t=(0,c.default)(e));var n=t,r=n.search,l=void 0===r?"":r,a=n.hash,o=void 0===a?"":a,i=n.pathname,f=void 0===i?"":i;return{search:l,hash:o,pathname:(0,c.normalizePath)(f),replace:u.noop}}},{key:"render",value:function(){var e=this.props,t=(e.location,e.context),n=m(e,["location","context"]),l=this.getStaticLocation();return r.default.createElement(o.RouterContext.Provider,{value:{staticLocation:l,staticContext:t}},r.default.createElement(a.default,p({type:"browser"},n)))}}])&&h(n.prototype,i),f&&h(n,f),t}(r.default.Component);t.default=O,g(O,"propTypes",i.StaticRouterPropTypes),g(O,"defaultProps",{basename:"/",location:{},context:{}})},640:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),l=s(n(44)),a=n(247),o=n(41),u=n(51),c=n(26),i=n(27),f=s(n(172));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(){return h(this,t),v(this,E(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(a=[{key:"isActive",value:function(e){var t=this.props,n=t.isActive,r=t.to,l=(0,f.default)((0,u.restorePath)(r)).pathname,a=(0,u.match)(e,{path:l},!0);return(0,c.isFunction)(n)?!1!==n(a,e,t):a}},{key:"getActiveProps",value:function(e){var t=this.props,n=t.className,r=t.style,l=t.activeClassName,a=t.activeStyle,o={className:n,style:r};return this.isActive(e)&&(o.className=[n,l].filter((function(e){return!!e})).join(" "),o.style=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{},r)),o}},{key:"render",value:function(){var e=this,t=this.props,n=t.to,a=(t.reload,t.replace,t.activeClassName,t.activeStyle,t.isActive,t.forwardRef),o=m(t,["to","reload","replace","activeClassName","activeStyle","isActive","forwardRef"]);return r.default.createElement(i.RouterContext.Consumer,null,(function(t){(0,l.default)(t,"不允许在 <Router> 外部使用 <NavLink>");var c=t.location;return r.default.createElement("a",p({href:(0,u.combinePath)(n)},o,e.getActiveProps(c),{onClick:e.onClick,ref:a}))}))}}])&&b(n.prototype,a),o&&b(n,o),t}(a.Link);O(j,"propTypes",o.NavLinkPropTypes),O(j,"defaultProps",{to:"",activeClassName:"active",replace:!1,reload:!1});var w=r.default.forwardRef((function(e,t){return r.default.createElement(j,p({},e,{forwardRef:t}))}));t.default=w},641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),l=i(n(44)),a=n(26),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(n,l,a):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(n(91)),u=n(27);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n){return E({},e,{},t,{},n)}var j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=t[0],i=t[1],f=t[2],d=t[3],b=(0,a.isFunction)(i)?i:function(){},v=(0,a.isFunction)(f)?f:O;return function(e){var t,n;return n=t=function(t){function n(){var e,t;s(this,n);for(var u=arguments.length,c=new Array(u),i=0;i<u;i++)c[i]=arguments[i];(t=m(this,(e=y(n)).call.apply(e,[this].concat(c)))).mounted=!1;var f=t.context.nuomi;return(0,l.default)(!!f,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 ".concat(n.displayName)),(0,a.isObject)(d)&&!0===d.withRef&&(t.ref=r.default.createRef()),t.state=t.getState(),t.unSubcribe=o.default.subscribe((function(){if(null!=(0,o.getStore)(f.store.id)){var e=t.getState();t.mounted?t.setState(e):t.state=e}})),t}return h(n,t),p(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubcribe&&this.unSubcribe()}},{key:"getState",value:function(){var e=this.context.nuomi.store;if(null!=(0,o.getStore)(e.id)){if((0,a.isFunction)(c)){var t=c(E({},e.state,{},e.getter),o.default.getState());return null!=t?t:{}}return E({},e.state,{},e.getter)}}},{key:"getWrappedInstance",value:function(){return this.ref?this.ref.current:null}},{key:"getProps",value:function(){var e=this.context.nuomi.store;return v(this.props,this.state,b(e.dispatch))||this.props}},{key:"render",value:function(){var t=this.context.nuomi.store,n=E({},this.getProps(),{ref:this.ref,dispatch:t.dispatch});return r.default.createElement(e,n)}}]),n}(r.default.PureComponent),g(t,"contextType",u.NuomiContext),g(t,"displayName","connect()(".concat(e.displayName||e.name,")")),n}};t.default=j},642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1)),l=o(n(44)),a=n(27);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n;return n=t=function(t){function n(){var e,t;i(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var u=(t=s(this,(e=d(n)).call.apply(e,[this].concat(a)))).context.nuomi;return(0,l.default)(!!u,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 ".concat(n.displayName)),t}var a,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),a=n,(o=[{key:"render",value:function(){var t=this.context.nuomi;return r.default.createElement(e,c({},this.props,{nuomi:t}))}}])&&f(a.prototype,o),u&&f(a,u),n}(r.default.PureComponent),m(t,"contextType",a.NuomiContext),m(t,"displayName","withNuomi(".concat(e.displayName||e.name,")")),n};t.default=y},643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1)),l=o(n(44)),a=n(27);function o(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n;return n=t=function(t){function n(){var e,t;i(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var u=(t=s(this,(e=d(n)).call.apply(e,[this].concat(a)))).context.location;return(0,l.default)(!!u,"不允许在 <Router>、<Route>、<NuomiRoute> 外部使用 ".concat(n.displayName)),t}var a,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,t),a=n,(o=[{key:"render",value:function(){var t=this.context.location;return r.default.createElement(e,c({},this.props,{location:t}))}}])&&f(a.prototype,o),u&&f(a,u),n}(r.default.PureComponent),m(t,"contextType",a.RouterContext),m(t,"displayName","withLocation(".concat(e.displayName||e.name,")")),n};t.default=y},644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useConnect",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"useNuomi",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return a.default}});var r=o(n(645)),l=o(n(647)),a=o(n(648));function o(e){return e&&e.__esModule?e:{default:e}}},645:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(1),a=d(n(44)),o=n(27),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=l?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(91)),c=n(26),i=d(n(646)),f=d(n(242));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,l=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=function(e){var t=(0,l.useContext)(o.NuomiContext).nuomi;(0,a.default)(t,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 useConnect");var n=t.store,r=h((0,l.useReducer)((function(e){return e+1}),0),2)[1],s=(0,l.useRef)(),d=(0,l.useRef)(),p=function(){if(null!=(0,u.getStore)(n.id)){if((0,c.isFunction)(e)){var t=e(m({},n.state,{},n.getter),u.default.getState());return null!=t?t:{}}var r=m({},n.state,{},n.getter);if(d.current){var l={};return Object.keys(d.current).forEach((function(e){l[e]=r[e]})),l}return new f.default(r,{get:function(e,t){return d.current||(d.current={}),d.current[t]=e[t]}})}};return s.current||(s.current=p()),(0,i.default)((function(){var e=u.default.subscribe((function(){if(null!=(0,u.getStore)(n.id)){var e=p();if((0,c.shallowEqual)(s.current,e))return;s.current=e,r({})}}));return function(){return e()}}),[]),[s.current,n.dispatch]};t.default=b},646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=n(1);var a=((r=n(104))&&r.__esModule?r:{default:r}).default.document?l.useLayoutEffect:l.useEffect;t.default=a},647:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=n(44))&&r.__esModule?r:{default:r},a=n(1),o=n(27);var u=function(){var e=(0,a.useContext)(o.NuomiContext).nuomi;return(0,l.default)(e,"不允许在 <Route>、<Nuomi>、<NuomiRoute> 外部使用 useNuomi"),e};t.default=u},648:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l=(r=n(44))&&r.__esModule?r:{default:r},a=n(1),o=n(27);var u=function(){var e=(0,a.useContext)(o.RouterContext).location;return(0,l.default)(e,"不允许在 <Router>、<Route>、<NuomiRoute> 外部使用 useLocation"),e};t.default=u},879:function(e,t,n){var r={"./af":258,"./af.js":258,"./ar":259,"./ar-dz":260,"./ar-dz.js":260,"./ar-kw":261,"./ar-kw.js":261,"./ar-ly":262,"./ar-ly.js":262,"./ar-ma":263,"./ar-ma.js":263,"./ar-sa":264,"./ar-sa.js":264,"./ar-tn":265,"./ar-tn.js":265,"./ar.js":259,"./az":266,"./az.js":266,"./be":267,"./be.js":267,"./bg":268,"./bg.js":268,"./bm":269,"./bm.js":269,"./bn":270,"./bn.js":270,"./bo":271,"./bo.js":271,"./br":272,"./br.js":272,"./bs":273,"./bs.js":273,"./ca":274,"./ca.js":274,"./cs":275,"./cs.js":275,"./cv":276,"./cv.js":276,"./cy":277,"./cy.js":277,"./da":278,"./da.js":278,"./de":279,"./de-at":280,"./de-at.js":280,"./de-ch":281,"./de-ch.js":281,"./de.js":279,"./dv":282,"./dv.js":282,"./el":283,"./el.js":283,"./en-SG":284,"./en-SG.js":284,"./en-au":285,"./en-au.js":285,"./en-ca":286,"./en-ca.js":286,"./en-gb":287,"./en-gb.js":287,"./en-ie":288,"./en-ie.js":288,"./en-il":289,"./en-il.js":289,"./en-nz":290,"./en-nz.js":290,"./eo":291,"./eo.js":291,"./es":292,"./es-do":293,"./es-do.js":293,"./es-us":294,"./es-us.js":294,"./es.js":292,"./et":295,"./et.js":295,"./eu":296,"./eu.js":296,"./fa":297,"./fa.js":297,"./fi":298,"./fi.js":298,"./fo":299,"./fo.js":299,"./fr":300,"./fr-ca":301,"./fr-ca.js":301,"./fr-ch":302,"./fr-ch.js":302,"./fr.js":300,"./fy":303,"./fy.js":303,"./ga":304,"./ga.js":304,"./gd":305,"./gd.js":305,"./gl":306,"./gl.js":306,"./gom-latn":307,"./gom-latn.js":307,"./gu":308,"./gu.js":308,"./he":309,"./he.js":309,"./hi":310,"./hi.js":310,"./hr":311,"./hr.js":311,"./hu":312,"./hu.js":312,"./hy-am":313,"./hy-am.js":313,"./id":314,"./id.js":314,"./is":315,"./is.js":315,"./it":316,"./it-ch":317,"./it-ch.js":317,"./it.js":316,"./ja":318,"./ja.js":318,"./jv":319,"./jv.js":319,"./ka":320,"./ka.js":320,"./kk":321,"./kk.js":321,"./km":322,"./km.js":322,"./kn":323,"./kn.js":323,"./ko":324,"./ko.js":324,"./ku":325,"./ku.js":325,"./ky":326,"./ky.js":326,"./lb":327,"./lb.js":327,"./lo":328,"./lo.js":328,"./lt":329,"./lt.js":329,"./lv":330,"./lv.js":330,"./me":331,"./me.js":331,"./mi":332,"./mi.js":332,"./mk":333,"./mk.js":333,"./ml":334,"./ml.js":334,"./mn":335,"./mn.js":335,"./mr":336,"./mr.js":336,"./ms":337,"./ms-my":338,"./ms-my.js":338,"./ms.js":337,"./mt":339,"./mt.js":339,"./my":340,"./my.js":340,"./nb":341,"./nb.js":341,"./ne":342,"./ne.js":342,"./nl":343,"./nl-be":344,"./nl-be.js":344,"./nl.js":343,"./nn":345,"./nn.js":345,"./pa-in":346,"./pa-in.js":346,"./pl":347,"./pl.js":347,"./pt":348,"./pt-br":349,"./pt-br.js":349,"./pt.js":348,"./ro":350,"./ro.js":350,"./ru":351,"./ru.js":351,"./sd":352,"./sd.js":352,"./se":353,"./se.js":353,"./si":354,"./si.js":354,"./sk":355,"./sk.js":355,"./sl":356,"./sl.js":356,"./sq":357,"./sq.js":357,"./sr":358,"./sr-cyrl":359,"./sr-cyrl.js":359,"./sr.js":358,"./ss":360,"./ss.js":360,"./sv":361,"./sv.js":361,"./sw":362,"./sw.js":362,"./ta":363,"./ta.js":363,"./te":364,"./te.js":364,"./tet":365,"./tet.js":365,"./tg":366,"./tg.js":366,"./th":367,"./th.js":367,"./tl-ph":368,"./tl-ph.js":368,"./tlh":369,"./tlh.js":369,"./tr":370,"./tr.js":370,"./tzl":371,"./tzl.js":371,"./tzm":372,"./tzm-latn":373,"./tzm-latn.js":373,"./tzm.js":372,"./ug-cn":374,"./ug-cn.js":374,"./uk":375,"./uk.js":375,"./ur":376,"./ur.js":376,"./uz":377,"./uz-latn":378,"./uz-latn.js":378,"./uz.js":377,"./vi":379,"./vi.js":379,"./x-pseudo":380,"./x-pseudo.js":380,"./yo":381,"./yo.js":381,"./zh-cn":382,"./zh-cn.js":382,"./zh-hk":383,"./zh-hk.js":383,"./zh-tw":384,"./zh-tw.js":384};function l(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}l.keys=function(){return Object.keys(r)},l.resolve=a,e.exports=l,l.id=879},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=m,t.setStore=function(e,t){i[e]?t||delete i[e]:i[e]=t},t.clearStore=function(){i={},p.replaceReducer(o.noop)},t.default=t.initialiseState=t.INITIALISE_STATE=void 0;var r=n(173),l=u(n(62)),a=u(n(630)),o=n(26);u(n(104));function u(e){return e&&e.__esModule?e:{default:e}}var c={};t.initialiseState=c;var i={},f=[],s=!1,d=r.compose,p=(0,r.createStore)(o.noop,d((0,a.default)((function(){return f}),(function(){return s=!0}))));function m(e){return i[e]}p.getStore=m,p.applyMiddleware=function(){if(s)(0,l.default)(!1,"dispatch已经被使用，不能添加中间件，请确保添加中间件操作发生在dispatch之前");else{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f=f.concat(t.filter((function(e){return(0,o.isFunction)(e)})))}},p.createState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.isObject)(e)&&Object.keys(e).forEach((function(t){i[t]||(c[t]=e[t])}))};t.INITIALISE_STATE="__NUOMI_INITIALISE_STATE__";var y=p;t.default=y}},[[444,1,2]]]);